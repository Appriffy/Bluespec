{"version":3,"sources":["./src/app/companies/details/company-details.page.html","./src/app/companies/details/company-details.module.ts","./src/app/companies/details/company-details.page.ts","./src/app/companies/details/company-details.resolver.ts"],"names":[],"mappings":"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","file":"details-company-details-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"companies/listing\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Company Profile</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"openItemUpdateModal()\\\" *ngIf=\\\"localUser?.role_id == 1\\\">\\n        Edit\\n      </ion-button>\\n      <ion-button fill=\\\"clear\\\" color=\\\"light\\\" class=\\\"filters-btn\\\" (click)=\\\"favouriteCompany()\\\" *ngIf=\\\"localUser?.role_id !== 1\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"heart\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"user-content\\\">\\n  <!------ Top Header Main ---->\\n  <div class=\\\"recipes-wrapper\\\">\\n    <div class=\\\"recipes-list\\\">\\n      <div class=\\\"recipe-item\\\">\\n\\n        <!----- SECTION 1: BASIC ITEM DETAILS ----->\\n        <app-image-shell class=\\\"recipe-cover-image\\\" [mode]=\\\"'cover'\\\" [src]=\\\"'./assets/images/banner.jpg'\\\">\\n          <app-aspect-ratio [ratio]=\\\"{w:12, h:3}\\\">\\n          </app-aspect-ratio>\\n        </app-image-shell>\\n        <div class=\\\"chef-picture-wrapper\\\">\\n          <app-aspect-ratio [ratio]=\\\"{w: 1, h: 1}\\\">\\n            <app-image-shell style=\\\"background-color: white;border-radius: 10px;padding:5px;\\\" class=\\\"chef-picture-image\\\" [src]=\\\"user?.logo\\\" [alt]=\\\"'Company Image'\\\"></app-image-shell>\\n          </app-aspect-ratio>\\n        </div>\\n     \\n        <div class=\\\"recipe-call-to-action\\\">\\n         \\n          <h3 class=\\\"recipe-name\\\" style=\\\"margin-top:2px;margin-bottom:2px;\\\">\\n            <app-text-shell [data]=\\\"user?.title\\\"></app-text-shell>\\n          </h3>\\n\\n          <h5 class=\\\"user-author\\\" *ngIf=\\\"user?.tagline\\\" style=\\\"font-size:13px;margin-top:2px;margin-bottom:5px;\\\">\\n            <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.tagline\\\"></app-text-shell>\\n          </h5>\\n\\n          <span class=\\\"recipe-author\\\" *ngIf=\\\"user?.address\\\">\\n            <app-text-shell [data]=\\\"user?.address\\\"></app-text-shell>\\n          </span>\\n    \\n          <h5 class=\\\"user-name\\\" *ngIf=\\\"user?.country\\\">\\n            <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.country\\\"></app-text-shell>\\n          </h5>\\n    \\n          <h5 class=\\\"user-name\\\" *ngIf=\\\"user?.phone\\\">\\n            <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.phone\\\"></app-text-shell>\\n          </h5>\\n    \\n          <a class=\\\"user-name\\\" *ngIf=\\\"user?.website\\\" style=\\\"color:blue;font-size:13px;font-weight: bold;\\\"\\n          href=\\\"user?.website\\\">\\n            <p><app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.website\\\"></app-text-shell></p>\\n          </a>\\n        </div>\\n<!----- SECTION 1: BASIC ITEM DETAILS ----->\\n\\n\\n        <!----- SECTION 2: STAT BOX ----->\\n        <hr class=\\\"details-divider\\\">\\n        <ion-row class=\\\"details-scores recipe-attributes\\\">\\n          <ion-col class=\\\"score-item attribute-score\\\">\\n            <ion-icon class=\\\"score-icon\\\" src=\\\"./assets/sample-icons/side-menu/briefcase.svg\\\"></ion-icon>\\n            <div class=\\\"score-value\\\">\\n              <app-text-shell [data]=\\\"user?.numJobs+' Jobs'\\\"></app-text-shell>\\n            </div>\\n          </ion-col>\\n          <ion-col class=\\\"score-item attribute-score\\\">\\n            <ion-icon class=\\\"score-icon\\\" src=\\\"./assets/sample-icons/side-menu/tags.svg\\\"></ion-icon>\\n            <div class=\\\"score-value\\\">\\n              <app-text-shell [data]=\\\"user?.numJobs+' Skills'\\\"></app-text-shell>\\n            </div>\\n          </ion-col>\\n          <ion-col class=\\\"score-item attribute-score\\\">\\n            <ion-icon class=\\\"score-icon\\\" src=\\\"./assets/sample-icons/side-menu/thumbs-up.svg\\\"></ion-icon>\\n            <div class=\\\"score-value\\\">\\n              <app-text-shell [data]=\\\"user?.numJobs+' Upvotes'\\\"></app-text-shell>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <hr class=\\\"details-divider\\\">\\n        <!----- SECTION 2: STAT BOX ----->\\n      </div>\\n    </div>\\n  </div>\\n\\n\\n  \\n  <ion-card padding *ngIf=\\\"user?.description\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" align-self-start style=\\\"vertical-align:middle;\\\">\\n        <h5 class=\\\"user-name\\\" style=\\\"font-size:16px;line-height:17px;margin-top: 5px;border-bottom: 1 px solid #777;\\\">\\n          About Us\\n        </h5>\\n        <hr class=\\\"details-divider\\\">\\n        <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.description\\\"></app-text-shell>\\n      </ion-col>\\n    </ion-row>\\n</ion-card> \\n\\n<!----- SECTION 3: LIST JOB SKILLS ----->\\n  <ion-row class=\\\"details-tags\\\" style=\\\"margin-top:15px;\\\" *ngIf=\\\"user?.jobAreas.length > 0\\\">\\n    <ion-col class=\\\"tag-wrapper\\\" *ngFor=\\\"let tag of user?.jobAreas\\\">\\n      <span class=\\\"item-tag\\\">\\n        <app-text-shell [data]=\\\"tag.title\\\"></app-text-shell>\\n      </span>\\n    </ion-col>\\n  </ion-row>\\n<!----- SECTION 3: LIST JOB SKILLS ----->\\n\\n</ion-content>\\n\\n<!-- <ion-footer style=\\\"background-color:#eeeeee;\\\">\\n  <ion-row class=\\\"details-purchase-options-row\\\">\\n    <ion-col size=\\\"6\\\">\\n      <ion-button class=\\\"select-variant-btn\\\" color=\\\"secondary\\\" expand=\\\"block\\\" fill=\\\"solid\\\" (click)=\\\"openSizeChooser()\\\">FIND JOBS</ion-button>\\n    </ion-col>\\n    <ion-col size=\\\"6\\\" class=\\\"main-call-to-action-col\\\">\\n      <ion-button class=\\\"add-to-cart-btn\\\" color=\\\"dark\\\" expand=\\\"block\\\" fill=\\\"solid\\\">HIRE NOW</ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n</ion-footer> -->\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\nimport { CompanyDetailsPage } from './company-details.page';\nimport { CompanyDetailsResolver } from './company-details.resolver';\nimport { CompanyService } from '../companies.service';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CompanyDetailsPage,\n    resolve: {\n      data: CompanyDetailsResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [CompanyDetailsPage],\n  providers: [\n    CompanyService,\n    CompanyDetailsResolver\n  ]\n})\nexport class CompanyDetailsPageModule {}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CompanyDetailModel } from '../../dbmodels/company-model';\nimport { CompanyService } from '../companies.service';\nimport { UpdateCompanyModal } from '../update/update-company.modal';\nimport { LocalUser } from '../../dbmodels/local-user';\nimport { AuthService } from '../../services/auth.service';\nimport { AuthConstants } from '../../config/AuthConstants';\n\n@Component({\n  selector: 'app-company-details',\n  templateUrl: './company-details.page.html',\n  styleUrls: [\n    '../../bluspecstyles/details.page.scss',\n    '../../bluspecstyles/details.shell.scss'\n  ],\n})\nexport class CompanyDetailsPage implements OnInit {\n  user: CompanyDetailModel;\n  company_id:any;\n  localUser: LocalUser;\n  \n // relatedUsers: Array<FirebaseListingItemModel> & ShellModel;\n  @HostBinding('class.is-shell') get isShell() {\n    return ((this.user && this.user.isShell)) ? true : false;\n  }\n\n  constructor(\n    public firebaseService: CompanyService,\n    public modalController: ModalController,\n    private authService: AuthService,\n    public router: Router,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n\n      this.route.paramMap.subscribe(params => {\n        this.company_id = params.get(\"id\");\n        if(this.company_id <= 0){\n          this.router.navigate(['page-not-found']);\n        }\n        });\n\n        var postData = {\n          company_id: this.company_id\n          };\n\n        this.authService.getAuthCache().then(promisedValue=>{\n          this.localUser = promisedValue;\n          this.fetchCompanyDetail(this.localUser.api_key, postData);\n        });\n  }\n\n\n  fetchCompanyDetail(apiKey:any, postData: any){\n    this.firebaseService.getDetailsDataSource(apiKey, postData).subscribe(\n      (res: any) => {\n        if(res){\n      if(AuthConstants.DEV_MODE){\n        console.log(\"Company Profile: \"+JSON.stringify(res)); \n      }\n      this.user = res;\n      if (res.error) {\n        this.router.navigate(['page-not-found']);\n      }\n      }\n      },\n      (error: any) => {\n      console.log('Looks like there is a Network Issue.');\n      }\n      );\n  }\n\n  async openItemUpdateModal() {\n    const modal = await this.modalController.create({\n      component: UpdateCompanyModal,\n      componentProps: {\n        'user': this.user\n      }\n    });\n    await modal.present();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { CompanyService } from '../companies.service';\nimport { CompanyDetailModel } from '../../dbmodels/company-model';\nimport { AuthService } from '../../services/auth.service';\n\n@Injectable()\nexport class CompanyDetailsResolver implements Resolve<any> {\n   \n  constructor(private firebaseService: CompanyService, private authService: AuthService) {\n\n  }\n  \n  //Error in Api key\n  resolve(route: ActivatedRouteSnapshot) {\n    const userId = route.paramMap.get('company_id');\n    var postData = {\n      company_id: userId\n      };\n    const combinedUserDataSource: Observable<CompanyDetailModel> = this.firebaseService\n    .getDetailsDataSource(userId, postData);\n\n    const combinedUserDataStore: DataStore<CompanyDetailModel> = this.firebaseService\n    .getDetailsStore(combinedUserDataSource);\n\n\n    return {user: combinedUserDataStore};\n  }\n}\n"],"sourceRoot":"webpack:///"}