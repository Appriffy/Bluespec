(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["relocation-fees-relocation-fees-module"],{

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/user/relocation-fees/relocation-fees.page.html":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/user/relocation-fees/relocation-fees.page.html ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Relocation Fees</ion-title>\n\n    <ion-buttons slot=\"end\">\n\n      <ion-button fill=\"clear\" color=\"light\" class=\"filters-btn\" (click)=\"loadItems()\">\n        <ion-icon slot=\"icon-only\" name=\"refresh\"></ion-icon>\n      </ion-button>\n\n      <ion-button *ngIf=\"feesListed && !editMode\" fill=\"outline\" (click)=\"switchEditMode()\" color=\"light\">EDIT</ion-button>\n\n      <ion-button *ngIf=\"editMode\" fill=\"outline\" (click)=\"switchDisplayMode()\" color=\"light\">VIEW</ion-button>\n\n    </ion-buttons>\n\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"video-playlist-content\">\n   <!------- Empty View ------->\n   <ion-grid style=\"height: 100%\" *ngIf=\"!editMode && !feesListed && !loading\">\n    <ion-row justify-content-center align-items-center style=\"height: 100%; flex-direction: column\">\n      <h1><ion-icon src=\"./assets/sample-icons/side-menu/wallet.svg\" style=\"color:#444;display:block;width:56px;height:56px;\"></ion-icon></h1>\n      <h4 style=\"font-size:24px;text-align: center;color: #444444;margin-bottom:5px;\"> WILLING TO RELOCATE?</h4>\n      <h5 style=\"font-size:18px;text-align: center;color: #555555;margin-top:5px;margin-left:30px;margin-right:30px;\"> Set up your relocation preferences. List your fees for relocation inputs applicable to you.</h5>\n      <ion-button style=\"text-align: center;\" (click)=\"switchEditMode()\" fill=\"outline\" color=\"dark\">GET STARTED</ion-button>\n      </ion-row>\n    </ion-grid>\n   <!------- Empty View ------->\n\n     <!------- Loading View ------->\n     <ion-grid style=\"height: 100%\" *ngIf=\"loading\">\n      <ion-row justify-content-center align-items-center style=\"height: 100%; flex-direction: column\">\n        <ion-spinner name=\"bubbles\" style=\"width:32px;height:32px;margin:0 auto;stroke:#222;fill:#444;text-align: center;\"></ion-spinner>\n        <h5 style=\"text-align: center;color: #444444;\">{{loadingMsg}}</h5>\n        <h5 style=\"font-size:15px;text-align: center;color: #555555;margin-top:8px;\">Please wait..</h5>\n        </ion-row>\n      </ion-grid>\n     <!------- Loading View ------->\n\n  <section class=\"video-playlist-section\" *ngIf=\"!editMode && feesListed && !loading\">\n    <ion-row class=\"playlist-item-row\" style=\"margin-top: 20px;\">\n      <ion-col size=\"6\" class=\"video-info-wrapper\">\n        <h4 class=\"image-title\" style=\"display: inline-block;text-align: start;\">\n          Salary Input\n        </h4>\n      </ion-col>\n      <ion-col size=\"6\" class=\"video-info-wrapper\">\n        <h4 class=\"image-title\" style=\"display: inline-block;text-align: end;\">\n           Amount\n        </h4>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"playlist-item-row\" *ngFor=\"let video of relocation_fees\">\n      <ion-col size=\"6\" class=\"video-info-wrapper\">\n        <h4 class=\"image-title\">\n          <app-text-shell animation=\"gradient\" [data]=\"video.relocation_name\"></app-text-shell>\n        </h4>\n        \n      </ion-col>\n      <ion-col size=\"6\" class=\"video-info-wrapper\">\n       \n        <p class=\"image-description\" style=\"font-weight: 500;color:#333333;\">\n          <app-text-shell animation=\"gradient\" [data]=\"video.fee+' '+video.fee_type\"></app-text-shell>\n        </p>\n       \n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"playlist-item-row\" style=\"margin-top: 10px;\">\n    <ion-col size=\"6\" class=\"video-info-wrapper\">\n      <h4 class=\"image-title\" style=\"display: inline-block;text-align: start;\">\n        Total Salary\n      </h4>\n    </ion-col>\n    <ion-col size=\"6\" class=\"video-info-wrapper\">\n      <h4 class=\"image-title\" style=\"display: inline-block;text-align: end;\">\n         {{totalSalary}} {{currency}} {{payMode}}\n      </h4>\n    </ion-col>\n  </ion-row>\n\n  </section>\n\n\n    <!------------- FEES FORM --------------->\n<ion-card no-padding class=\"stats-card\" *ngIf=\"editMode && !loading\" style=\"margin: 0 !important;\npadding: 0 !important;\">\n  <ion-card-content style=\"padding:0px;margin:0px;\">\n    <form [formGroup]=\"form\" (ngSubmit)=\"saveFormChanges()\">\n\n      <ion-card-header>\n        <ion-card-title>RELOCATION FORM </ion-card-title>\n        <ion-card-subtitle>Fill up the relocation form by listing the applicable fees. Click submit to save your fee listing.</ion-card-subtitle>\n      </ion-card-header>\n\n      <ion-list  margin-bottom>\n        <ion-input type=\"hidden\" formControlName=\"name\" value=\"Relocation Fee Structure\" required></ion-input>\n   \n       <ion-list class=\"toggle-list\" lines=\"full\">\n        <ion-item class=\"toggle-item\">\n          <ion-label class=\"toggle-label\">Enable Relocation Mode</ion-label>\n          <ion-toggle color=\"primary\" formControlName=\"canRelocate\" (ionChange)=\"onThisOptionSelected($event)\"></ion-toggle>\n        </ion-item>\n\n        <div class=\"error-container\" style=\"margin-left: 20px;\">          \n          <ng-container *ngFor=\"let validation of validations.canRelocate\">\n            <div class=\"error-message\" *ngIf=\"form.get('canRelocate').hasError(validation.type)\">\n              <ion-icon name=\"information-circle-outline\"></ion-icon>\n              <span>{{ validation.message }}</span>\n            </div>\n          </ng-container>\n        </div>\n\n      </ion-list>\n\n      <ion-row align-items-center>\n        <ion-col size-sm=\"12\" size-md=\"12\" size-lg=\"4\">\n          <ion-item class=\"input-item\">\n            <ion-label position=\"floating\">Select Currency *</ion-label>\n            <ion-select formControlName=\"currency\" cancelText=\"Cancel\" okText=\"OK\">\n              <ion-select-option *ngFor=\"let item of currencies\" [value]=\"item.symbol\" >{{item.currency}}</ion-select-option>\n            </ion-select>\n          </ion-item>\n        </ion-col>\n       \n        <ion-col size-sm=\"12\" size-md=\"12\" size-lg=\"4\">\n          <ion-item class=\"input-item\">\n            <ion-label position=\"floating\">Select Payroll Type *</ion-label>\n            <ion-select formControlName=\"payMode\" cancelText=\"Cancel\" okText=\"OK\">\n              <ion-select-option *ngFor=\"let item of paymentModes\" [value]=\"item\" >{{item}}</ion-select-option>\n            </ion-select>\n          </ion-item>\n        </ion-col>\n\n        <ion-col size-sm=\"12\" size-md=\"12\" size-lg=\"4\">\n          <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Notice Period (in Days)*</ion-label>\n          <ion-input type=\"number\" formControlName=\"notice_period\" required></ion-input>\n          </ion-item>\n        </ion-col>\n\n        <div class=\"error-container\" style=\"margin-left: 20px;\">\n          <ng-container *ngFor=\"let validation of validations.payMode\">\n            <div class=\"error-message\" *ngIf=\"form.get('payMode').hasError(validation.type)\">\n              <ion-icon name=\"information-circle-outline\"></ion-icon>\n              <span>{{ validation.message }}</span>\n            </div>\n          </ng-container>\n          <ng-container *ngFor=\"let validation of validations.notice_period\">\n            <div class=\"error-message\" *ngIf=\"form.get('notice_period').hasError(validation.type)\">\n              <ion-icon name=\"information-circle-outline\"></ion-icon>\n              <span>{{ validation.message }}</span>\n            </div>\n          </ng-container>\n          <ng-container *ngFor=\"let validation of validations.currency\">\n            <div class=\"error-message\" *ngIf=\"form.get('currency').hasError(validation.type)\">\n              <ion-icon name=\"information-circle-outline\"></ion-icon>\n              <span>{{ validation.message }}</span>\n            </div>\n          </ng-container>\n        </div>\n\n      </ion-row>\n\n\n  <!---- List Form Array -->\n      <div formArrayName=\"fee_entries\" margin-bottom *ngIf=\"enableRelocationFees\">\n           <section\n              [formGroupName]=\"i\" *ngFor=\"let feeInput of feeEntriesFormArray.controls; let i = index;\">\n              <ion-item-group>\n               \n                <ion-row class=\"searchbar-row\" align-items-center>\n                  <ion-col size=\"2\" style=\"display: none;\">\n                    <ion-item class=\"input-item\">\n                    <ion-label color=\"secondary\" position=\"floating\">Relocation Input</ion-label>\n                    <ion-input type=\"text\" formControlName=\"relocation_input\" readonly></ion-input>\n                    </ion-item>\n                  </ion-col>\n                  <ion-col size=\"6\">\n                    <ion-item class=\"input-item\">\n                    <ion-label color=\"secondary\" position=\"floating\">Salary Item</ion-label>\n                    <ion-input type=\"text\" formControlName=\"relocation_name\" readonly></ion-input>\n                    </ion-item>\n                  </ion-col>\n                  <ion-col size=\"6\">\n                    <ion-item class=\"input-item\">\n                    <!-- <ion-label color=\"secondary\" position=\"floating\">Your Fee </ion-label> -->\n                    <ion-label position=\"floating\"> Fee (in {{currency}})</ion-label>\n                    <ion-input type=\"number\" formControlName=\"fee\" required></ion-input>\n                    </ion-item>\n                  </ion-col>\n                </ion-row>\n                \n                <!-- <ion-item-divider color=\"light\">{{ tech.relocation_name }}</ion-item-divider> -->\n              </ion-item-group>    \n           </section>\n        </div>\n  <!---- List Form Array -->\n   \n     </ion-list>\n   \n        <ion-button style=\"padding-top:20px;padding-bottom:20px;\" class=\"submit-btn\" expand=\"block\" color=\"secondary\" type=\"submit\" fill=\"solid\" [disabled]=\"!form.valid\">Submit</ion-button>\n  \n      </form>\n  </ion-card-content>\n</ion-card>\n\n<!------------- END OF FEES FORM ------------->\n</ion-content>\n\n<ion-footer *ngIf=\"editMode && !loading\">\n  <ion-row class=\"form-actions-wrapper\" style=\"background-color: 0A5392;\">\n    <ion-col>\n      <ion-button (click)=\"saveFormChanges()\" [disabled]=\"!form.valid\" class=\"submit-btn\" expand=\"block\" color=\"secondary\" type=\"submit\" fill=\"solid\"> <ion-icon name=\"arrow-round-forward\"></ion-icon>&nbsp; SUBMIT</ion-button>\n    </ion-col>\n  </ion-row>\n</ion-footer>\n");

/***/ }),

/***/ "./src/app/user/relocation-fees/relocation-fees.module.ts":
/*!****************************************************************!*\
  !*** ./src/app/user/relocation-fees/relocation-fees.module.ts ***!
  \****************************************************************/
/*! exports provided: RelocationFeesPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelocationFeesPageModule", function() { return RelocationFeesPageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _relocation_fees_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./relocation-fees.page */ "./src/app/user/relocation-fees/relocation-fees.page.ts");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/components.module */ "./src/app/components/components.module.ts");








const routes = [
    {
        path: '',
        component: _relocation_fees_page__WEBPACK_IMPORTED_MODULE_6__["RelocationFeesPage"]
    }
];
let RelocationFeesPageModule = class RelocationFeesPageModule {
};
RelocationFeesPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
            _components_components_module__WEBPACK_IMPORTED_MODULE_7__["ComponentsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)
        ],
        declarations: [_relocation_fees_page__WEBPACK_IMPORTED_MODULE_6__["RelocationFeesPage"]]
    })
], RelocationFeesPageModule);



/***/ }),

/***/ "./src/app/user/relocation-fees/relocation-fees.page.scss":
/*!****************************************************************!*\
  !*** ./src/app/user/relocation-fees/relocation-fees.page.scss ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (":host {\n  --page-margin: var(--app-fair-margin);\n  --page-background: var(--app-background);\n}\n\n.video-playlist-content {\n  --background: #eeeeee;\n}\n\n.video-playlist-content .video-data-section {\n  padding: var(--page-margin);\n}\n\n.video-playlist-content .video-data-section .video-title {\n  margin-top: 0px;\n  margin-bottom: calc(var(--page-margin) / 2);\n  color: var(--ion-color-secondary);\n}\n\n.video-playlist-content .video-data-section .video-description {\n  margin: 0px;\n  font-size: 13px;\n  line-height: 1.3;\n  letter-spacing: 0.3px;\n  color: var(--ion-color-dark);\n}\n\n.video-playlist-content .video-playlist-section {\n  padding: 0px var(--page-margin);\n  padding-bottom: var(--page-margin);\n}\n\n.video-playlist-content .video-playlist-section .playlist-item-row {\n  --ion-grid-column-padding: 0px;\n}\n\n.video-playlist-content .video-playlist-section .playlist-item-row:not(:first-child) {\n  padding-top: calc(var(--page-margin) / 2);\n}\n\n.video-playlist-content .video-playlist-section .playlist-item-row:not(:last-child) {\n  padding-bottom: calc(var(--page-margin) / 2);\n  box-shadow: inset 0 -7px 3px -8px var(--ion-color-darkest);\n}\n\n.video-playlist-content .video-playlist-section .play-icon-wrapper {\n  height: 100%;\n  text-decoration: none;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n}\n\n.video-playlist-content .video-playlist-section .play-icon-wrapper .play-icon {\n  color: var(--ion-color-secondary);\n  background: rgba(var(--ion-color-lightest-rgb), 0.7);\n  font-size: 20px;\n  padding: 8px;\n  border-radius: 50%;\n}\n\n.video-playlist-content .video-playlist-section .video-info-wrapper {\n  -webkit-padding-start: var(--page-margin);\n          padding-inline-start: var(--page-margin);\n  align-self: center;\n}\n\n.video-playlist-content .video-playlist-section .video-info-wrapper .image-title {\n  margin: 0px;\n  margin-bottom: calc(var(--page-margin) / 4);\n  color: var(--ion-color-secondary);\n  font-size: 14px;\n}\n\n.video-playlist-content .video-playlist-section .video-info-wrapper .image-title app-text-shell {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.video-playlist-content .video-playlist-section .video-info-wrapper .image-description {\n  margin: 0px;\n  color: var(--ion-color-dark);\n  font-size: 13px;\n  line-height: 1.3;\n  letter-spacing: 0.3px;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  overflow: hidden;\n  /* autoprefixer: ignore next */\n  -webkit-box-orient: vertical;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlci9yZWxvY2F0aW9uLWZlZXMvRDpcXFdFQiBNQVJLRVRQTEFDRVxcQU5HVUxBUlxcQmx1c3BlYy9zcmNcXGFwcFxcdXNlclxccmVsb2NhdGlvbi1mZWVzXFxyZWxvY2F0aW9uLWZlZXMucGFnZS5zY3NzIiwic3JjL2FwcC91c2VyL3JlbG9jYXRpb24tZmVlcy9yZWxvY2F0aW9uLWZlZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0kscUNBQUE7RUFDQSx3Q0FBQTtBQ0RKOztBRElFO0VBRUUscUJBQUE7QUNGSjs7QURHTTtFQUNJLDJCQUFBO0FDRFY7O0FER1U7RUFDSSxlQUFBO0VBQ04sMkNBQUE7RUFDTSxpQ0FBQTtBQ0RkOztBRElVO0VBQ0YsV0FBQTtFQUNFLGVBQUE7RUFDRSxnQkFBQTtFQUNFLHFCQUFBO0VBQ0EsNEJBQUE7QUNGZDs7QURNSTtFQUNFLCtCQUFBO0VBQ0Esa0NBQUE7QUNKTjs7QURNTTtFQUNFLDhCQUFBO0FDSlI7O0FETVE7RUFDRSx5Q0FBQTtBQ0pWOztBRE9RO0VBQ0UsNENBQUE7RUFFQSwwREFBQTtBQ05WOztBRFVNO0VBQ0UsWUFBQTtFQUNBLHFCQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNSUjs7QURVUTtFQUNFLGlDQUFBO0VBQ0Esb0RBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDUlY7O0FEWU07RUFDRSx5Q0FBQTtVQUFBLHdDQUFBO0VBQ0Esa0JBQUE7QUNWUjs7QURZUTtFQUNFLFdBQUE7RUFDQSwyQ0FBQTtFQUNBLGlDQUFBO0VBQ0EsZUFBQTtBQ1ZWOztBRFlVO0VBQ0UsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0FDVlo7O0FEY1E7RUFDRSxXQUFBO0VBQ0EsNEJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtFQUdBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUVBLDhCQUFBO0VBQ0EsNEJBQUE7QUNmViIsImZpbGUiOiJzcmMvYXBwL3VzZXIvcmVsb2NhdGlvbi1mZWVzL3JlbG9jYXRpb24tZmVlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDdXN0b20gdmFyaWFibGVzXHJcbi8vIE5vdGU6ICBUaGVzZSBvbmVzIHdlcmUgYWRkZWQgYnkgdXMgYW5kIGhhdmUgbm90aGluZyB0byBkbyB3aXRoIElvbmljIENTUyBDdXN0b20gUHJvcGVydGllc1xyXG46aG9zdCB7XHJcbiAgICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtZmFpci1tYXJnaW4pO1xyXG4gICAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcclxuICB9XHJcbiAgXHJcbiAgLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQge1xyXG4gICAgLy8tLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNlZWVlZWU7XHJcbiAgICAgIC52aWRlby1kYXRhLXNlY3Rpb24ge1xyXG4gICAgICAgICAgcGFkZGluZzogdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gIFxyXG4gICAgICAgICAgLnZpZGVvLXRpdGxlIHtcclxuICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XHJcbiAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICAudmlkZW8tZGVzY3JpcHRpb24ge1xyXG4gICAgICAgIG1hcmdpbjogMHB4O1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMS4zO1xyXG4gICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjNweDtcclxuICAgICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgXHJcbiAgICAudmlkZW8tcGxheWxpc3Qtc2VjdGlvblx0e1xyXG4gICAgICBwYWRkaW5nOiAwcHggdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gICAgICBwYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gIFxyXG4gICAgICAucGxheWxpc3QtaXRlbS1yb3cge1xyXG4gICAgICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcclxuICBcclxuICAgICAgICAmOm5vdCg6Zmlyc3QtY2hpbGQpIHtcclxuICAgICAgICAgIHBhZGRpbmctdG9wOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAmOm5vdCg6bGFzdC1jaGlsZCkge1xyXG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XHJcbiAgICAgICAgICAvLyBib3gtc2hhZG93IGF0IHRoZSBib3R0b21cclxuICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgLTdweCAzcHggLThweCB2YXIoLS1pb24tY29sb3ItZGFya2VzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC5wbGF5LWljb24td3JhcHBlciB7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgXHJcbiAgICAgICAgLnBsYXktaWNvbiB7XHJcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKHZhcigtLWlvbi1jb2xvci1saWdodGVzdC1yZ2IpLCAuNyk7XHJcbiAgICAgICAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICAgICAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC52aWRlby1pbmZvLXdyYXBwZXIge1xyXG4gICAgICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiB2YXIoLS1wYWdlLW1hcmdpbik7XHJcbiAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xyXG4gIFxyXG4gICAgICAgIC5pbWFnZS10aXRsZSB7XHJcbiAgICAgICAgICBtYXJnaW46IDBweDtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gNCk7XHJcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XHJcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgXHJcbiAgICAgICAgICBhcHAtdGV4dC1zaGVsbCB7XHJcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuaW1hZ2UtZGVzY3JpcHRpb24ge1xyXG4gICAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMztcclxuICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjNweDtcclxuICBcclxuICAgICAgICAgIC8vIGxpbmUgY2xhbXAgaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9saW5lLWNsYW1waW4vI2FydGljbGUtaGVhZGVyLWlkLTBcclxuICAgICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xyXG4gICAgICAgICAgLXdlYmtpdC1saW5lLWNsYW1wOiAzO1xyXG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgIC8vIHdlIG5lZWQgYXV0b3ByZWZpeGVyIG9mZiBmb3IgbmV4dCBsaW5lIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3N0Y3NzL2F1dG9wcmVmaXhlci9pc3N1ZXMvNzc2I2lzc3VlY29tbWVudC00NDUyNDkxNzRcclxuICAgICAgICAgIC8qIGF1dG9wcmVmaXhlcjogaWdub3JlIG5leHQgKi9cclxuICAgICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gICIsIjpob3N0IHtcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLWZhaXItbWFyZ2luKTtcbiAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcbn1cblxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6ICNlZWVlZWU7XG59XG4udmlkZW8tcGxheWxpc3QtY29udGVudCAudmlkZW8tZGF0YS1zZWN0aW9uIHtcbiAgcGFkZGluZzogdmFyKC0tcGFnZS1tYXJnaW4pO1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLWRhdGEtc2VjdGlvbiAudmlkZW8tdGl0bGUge1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIG1hcmdpbi1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbn1cbi52aWRlby1wbGF5bGlzdC1jb250ZW50IC52aWRlby1kYXRhLXNlY3Rpb24gLnZpZGVvLWRlc2NyaXB0aW9uIHtcbiAgbWFyZ2luOiAwcHg7XG4gIGZvbnQtc2l6ZTogMTNweDtcbiAgbGluZS1oZWlnaHQ6IDEuMztcbiAgbGV0dGVyLXNwYWNpbmc6IDAuM3B4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLXBsYXlsaXN0LXNlY3Rpb24ge1xuICBwYWRkaW5nOiAwcHggdmFyKC0tcGFnZS1tYXJnaW4pO1xuICBwYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFnZS1tYXJnaW4pO1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLXBsYXlsaXN0LXNlY3Rpb24gLnBsYXlsaXN0LWl0ZW0tcm93IHtcbiAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZzogMHB4O1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLXBsYXlsaXN0LXNlY3Rpb24gLnBsYXlsaXN0LWl0ZW0tcm93Om5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgcGFkZGluZy10b3A6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG59XG4udmlkZW8tcGxheWxpc3QtY29udGVudCAudmlkZW8tcGxheWxpc3Qtc2VjdGlvbiAucGxheWxpc3QtaXRlbS1yb3c6bm90KDpsYXN0LWNoaWxkKSB7XG4gIHBhZGRpbmctYm90dG9tOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xuICBib3gtc2hhZG93OiBpbnNldCAwIC03cHggM3B4IC04cHggdmFyKC0taW9uLWNvbG9yLWRhcmtlc3QpO1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLXBsYXlsaXN0LXNlY3Rpb24gLnBsYXktaWNvbi13cmFwcGVyIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLXBsYXlsaXN0LXNlY3Rpb24gLnBsYXktaWNvbi13cmFwcGVyIC5wbGF5LWljb24ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gIGJhY2tncm91bmQ6IHJnYmEodmFyKC0taW9uLWNvbG9yLWxpZ2h0ZXN0LXJnYiksIDAuNyk7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgcGFkZGluZzogOHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG4udmlkZW8tcGxheWxpc3QtY29udGVudCAudmlkZW8tcGxheWxpc3Qtc2VjdGlvbiAudmlkZW8taW5mby13cmFwcGVyIHtcbiAgcGFkZGluZy1pbmxpbmUtc3RhcnQ6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLXBsYXlsaXN0LXNlY3Rpb24gLnZpZGVvLWluZm8td3JhcHBlciAuaW1hZ2UtdGl0bGUge1xuICBtYXJnaW46IDBweDtcbiAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyA0KTtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICBmb250LXNpemU6IDE0cHg7XG59XG4udmlkZW8tcGxheWxpc3QtY29udGVudCAudmlkZW8tcGxheWxpc3Qtc2VjdGlvbiAudmlkZW8taW5mby13cmFwcGVyIC5pbWFnZS10aXRsZSBhcHAtdGV4dC1zaGVsbCB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuLnZpZGVvLXBsYXlsaXN0LWNvbnRlbnQgLnZpZGVvLXBsYXlsaXN0LXNlY3Rpb24gLnZpZGVvLWluZm8td3JhcHBlciAuaW1hZ2UtZGVzY3JpcHRpb24ge1xuICBtYXJnaW46IDBweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBsaW5lLWhlaWdodDogMS4zO1xuICBsZXR0ZXItc3BhY2luZzogMC4zcHg7XG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAtd2Via2l0LWxpbmUtY2xhbXA6IDM7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIC8qIGF1dG9wcmVmaXhlcjogaWdub3JlIG5leHQgKi9cbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbn0iXX0= */");

/***/ }),

/***/ "./src/app/user/relocation-fees/relocation-fees.page.ts":
/*!**************************************************************!*\
  !*** ./src/app/user/relocation-fees/relocation-fees.page.ts ***!
  \**************************************************************/
/*! exports provided: RelocationFeesPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelocationFeesPage", function() { return RelocationFeesPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _services_toast_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/toast.service */ "./src/app/services/toast.service.ts");
/* harmony import */ var _services_master_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/master.service */ "./src/app/services/master.service.ts");
/* harmony import */ var _services_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/storage.service */ "./src/app/services/storage.service.ts");
/* harmony import */ var _config_AuthConstants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../config/AuthConstants */ "./src/app/config/AuthConstants.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../user.service */ "./src/app/user/user.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");












let RelocationFeesPage = class RelocationFeesPage {
    constructor(router, route, http, authService, firebaseService, storageService, alertController, masterService, toastService, _FB) {
        this.router = router;
        this.route = route;
        this.http = http;
        this.authService = authService;
        this.firebaseService = firebaseService;
        this.storageService = storageService;
        this.alertController = alertController;
        this.masterService = masterService;
        this.toastService = toastService;
        this._FB = _FB;
        this.feesListed = false;
        this.editMode = false;
        this.enableRelocationFees = false;
        this.loading = true;
        this.loadingMsg = "Loading Relocation Preferences";
        this.totalAmount = 0;
        this.currencies = [];
        this.paymentModes = ["Per Year", "Per Month"];
        this.totalSalary = 0;
        this.validations = {
            'canRelocate': [
                { type: 'required', message: 'You should be willing to relocate to add relocation fees.' }
            ],
            'currency': [
                { type: 'required', message: 'You must select a currency to enter your fees.' }
            ],
            'notice_period': [
                { type: 'required', message: 'You must enter your notice period with your current employer in days.' },
                { type: 'min', message: 'Please enter a valid notice period or leave blank if not applicable.' },
                { type: 'max', message: 'You can not specify a notice period of more than an year.' }
            ],
            // 'phone': [
            //   { type: 'required', message: 'Please enter your mobile number.' },
            //   { type: 'minlength', message: 'Mobile number must be at least 9 digits long.' },
            //   { type: 'maxlength', message: 'Mobile number must not exceed 12 digits.' }
            // ],
            'payMode': [
                { type: 'required', message: 'You must select a payroll mode to list your fees.' }
            ]
        };
    }
    ionViewWillEnter() {
        // this.selectedUser = this.navParams.get('selectedUser');
        // console.log(this.selectedUser);
    }
    get feeEntriesFormArray() { return this.form.get('fee_entries'); }
    ngOnInit() {
        this.form = this._FB.group({
            name: ['My Fees', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            user_id: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            payMode: [this.paymentModes[0], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            currency: [this.currencies[0], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            notice_period: [0, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].min(0), _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].max(365)]],
            //canRelocate: [this.enableRelocationFees, Validators.required, Validators.requiredTrue],
            canRelocate: [this.enableRelocationFees, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].requiredTrue]],
            fee_entries: this._FB.array([])
        });
        this.authService.getAuthCache().then(promisedValue => {
            if (promisedValue) {
                this.localUser = promisedValue;
                this.selectedUser = this.localUser.id;
                console.log("/***** PROFILE PAGE LOCAL USER : " + JSON.stringify(promisedValue));
                /************ CHECK ROUTE PARAM REQUESTS ***************/
                this.route.paramMap.subscribe(params => {
                    if (params && params.has("user_id")) {
                        this.selectedUser = params.get("user_id");
                        //this.toastService.presentToast("Got "+this.selectedUser);
                        if (this.selectedUser <= 0) {
                            this.router.navigate(['page-not-found']);
                        }
                    }
                });
                /************ CHECK ROUTE PARAM REQUESTS ***************/
                this.form.controls.user_id.patchValue(this.selectedUser);
                this.form.get('user_id').updateValueAndValidity();
            }
            else {
                this.authService.logout();
            }
            this.loadItems();
        });
        //  this.masterService.getRelocationInputTypes().subscribe(allInputs=>{
        //   console.log("/******** GOT ALL INPUTS *********/"+JSON.stringify(allInputs));
        //   if(allInputs){
        //     this.all_relocation_inputs = allInputs.result;
        //     if(this.all_relocation_inputs !== null){
        //       this.all_relocation_inputs.map((item) => {
        //         if(item){
        //           (this.form.controls.fee_entries as FormArray).push(this.initFeeFields(item.id, 0));
        //         }
        //       });
        //     }
        //   }
        // });
        this.storageService.get(_config_AuthConstants__WEBPACK_IMPORTED_MODULE_9__["AuthConstants"].CURRENCIES).then(currencies => {
            if (currencies) {
                this.currencies = currencies;
            }
        });
        //   this.storageService.get(AuthConstants.PAYMENT_MODES).then(paymentModes =>{
        //     if(paymentModes){
        // this.paymentModes = paymentModes;
        //     }
        //   });
        /***************************/
        this.form.get("fee_entries").valueChanges.subscribe(x => {
            //console.log('fee_entries value changed');
            console.log("fee_entries=> " + JSON.stringify(x));
            if (x) {
                this.submittedFees = JSON.stringify(x);
                //this.submittedFees = x;
            }
        });
        this.form.get("currency").valueChanges.subscribe(x => {
            if (x) {
                this.currency = x;
            }
        });
        this.form.get("payMode").valueChanges.subscribe(x => {
            if (x) {
                this.payMode = x;
            }
        });
        this.form.get("canRelocate").valueChanges.subscribe(x => {
            if (x) {
                console.log("WOOOOAAAA: " + x);
                this.enableRelocationFees = true;
            }
        });
        //  this.form.valueChanges.subscribe(x => {
        // if(x.payMode !== "" && x.currency != "" && x.canRelocate){
        //   //Show the form
        //   this.enableRelocationFees = true;
        //   console.log("WOOOOAAAA: "+ JSON.stringify(x));
        // }
        // });
        /***************************/
    }
    initFeeFields(id, name, fee) {
        return this._FB.group({
            relocation_input: [id, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            relocation_name: [name, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            fee: [fee, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].min(0), _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].max(1000000)]]
        });
    }
    addNewInputField(id, name, fee) {
        const control = this.form.controls.fee_entries;
        control.push(this.initFeeFields(id, name, fee));
    }
    removeInputField(i) {
        const control = this.form.controls.fee_entries;
        control.removeAt(i);
    }
    // public getFeesDataSource(): Observable<any> {
    //   return this.http.get<any>('./assets/sample-data/user/relocation-fees.json').pipe(map(response=>response.result));
    // }
    onThisOptionSelected(e) {
        // console.log("WOOOOAAAA SWITCH "+e.target.value);
        // // if(e.target.value){
        // //   this.enableRelocationFees = true;
        // // }else{
        // //   this.enableRelocationFees = false;
        // // }
        // this.enableRelocationFees = !this.enableRelocationFees;
        // console.log("WOOOOAAAA: "+ this.enableRelocationFees);
        // alert(this.enableRelocationFees);
    }
    switchEditMode() {
        this.editMode = true;
    }
    switchDisplayMode() {
        this.editMode = false;
    }
    saveFormChanges() {
        //alert(JSON.stringify(this.form.value));
        //alert(JSON.stringify(this.form.value.fee_entries));
        this.hitRelocationSaveAPI();
    }
    loadItems() {
        this.loadingMsg = "Loading Relocation Preferences";
        this.loading = true;
        this.authService.getAuthKey().then(apiKey => {
            this.firebaseService.getRelocationFeesDataSource(apiKey, this.selectedUser).subscribe(allFees => {
                this.loading = false;
                //console.log("/******** GOT ALL FEES *********/"+JSON.stringify(allFees));
                if (allFees) {
                    if (allFees.totalSalary) {
                        this.totalSalary = allFees.totalSalary;
                    }
                    if (allFees.allFormFields) {
                        this.all_relocation_inputs = allFees.allFormFields;
                        if (this.all_relocation_inputs !== null) {
                            //Clear Array First
                            const control = this.form.controls['fee_entries'];
                            for (let i = control.length - 1; i >= 0; i--) {
                                control.removeAt(i);
                            }
                            this.all_relocation_inputs.map((item) => {
                                if (item) {
                                    this.form.controls.fee_entries.push(this.initFeeFields(item.id, item.title, item.fee));
                                }
                            });
                        }
                    }
                    console.log("/******** RELOCATION FEES *********/" + JSON.stringify(this.all_relocation_inputs));
                    //if(!allFees.error && allFees.fees){
                    if (allFees.fees) {
                        this.feesListed = allFees.isPrefsAdded;
                        //Used only for listing
                        this.relocation_fees = allFees.fees;
                        let relocationDetails = allFees.relocationDetails;
                        if (relocationDetails && relocationDetails !== null && relocationDetails !== undefined) {
                            //Add Existing Relocation Preferences
                            if (relocationDetails.payMode) {
                                this.form.controls.payMode.patchValue(relocationDetails.payMode);
                                this.payMode = relocationDetails.payMode;
                                this.form.get('payMode').updateValueAndValidity();
                            }
                            if (relocationDetails.canRelocate) {
                                this.form.controls.canRelocate.patchValue(true);
                                this.enableRelocationFees = true;
                                this.form.get('canRelocate').updateValueAndValidity();
                            }
                            if (relocationDetails.currency) {
                                this.form.controls.currency.patchValue(relocationDetails.currency);
                                this.currency = relocationDetails.currency;
                                this.form.get('currency').updateValueAndValidity();
                            }
                            if (relocationDetails.notice_period) {
                                this.form.controls.notice_period.patchValue(relocationDetails.notice_period);
                                this.form.get('notice_period').updateValueAndValidity();
                            }
                        }
                    }
                    else {
                        console.log("NO PREFERENCES ADDED => " + JSON.stringify(allFees));
                    }
                }
            });
        });
    }
    hitRelocationSaveAPI() {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            this.loadingMsg = "Saving Relocation Fees";
            this.loading = true;
            this.authService.getAuthKey().then(apiKey => {
                let postData = {
                    user_id: this.form.value.user_id,
                    //relocation_fees : this.form.value.fee_entries,
                    relocation_fees: this.submittedFees,
                    payMode: this.form.value.payMode,
                    notice_period: this.form.value.notice_period,
                    canRelocate: this.form.value.canRelocate,
                    currency: this.form.value.currency,
                };
                console.log("Gonna Hitting => " + JSON.stringify(postData) + " via Token " + apiKey);
                this.firebaseService.callRelocationFeesSaveAPI(apiKey, postData)
                    .subscribe((res) => {
                    //this.loadingController.dismiss();
                    this.loading = false;
                    console.log('########## Fees Update API Response ########### ' + JSON.stringify(res));
                    if (!res.error) {
                        /********** NAVIGATE WITH USER ID **********/
                        //this.dismissModal();
                        // this.firebaseService.getre(this.localUser.api_key, this.user.user_id).subscribe(results=>{
                        //   if(results){
                        //     this.firebaseService.invokeWorkExperienceListChangeEvent.next(results.result);
                        //   }
                        //   console.log('########## invokeWorkExperienceListChangeEvent() ######### '+JSON.stringify(results));
                        // });
                        //this.switchDisplayMode();
                        this.editMode = false;
                        this.loadItems();
                        //this.router.navigate(['/relocation-fees;user_id='+this.selectedUser]);
                    }
                    else {
                        this.presentAlert(res.message);
                    }
                }, (error) => {
                    //this.loadingController.dismiss();
                    this.loading = false;
                    this.presentAlert('Looks like there is a Network Issue while saving relocation fees.');
                });
            });
        });
    }
    presentAlert(message) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            const alert = yield this.alertController.create({
                header: 'Alert',
                subHeader: '',
                message: message,
                buttons: ['OK']
            });
            yield alert.present();
            return alert;
        });
    }
};
RelocationFeesPage.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"] },
    { type: _user_service__WEBPACK_IMPORTED_MODULE_10__["UserService"] },
    { type: _services_storage_service__WEBPACK_IMPORTED_MODULE_8__["StorageService"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["AlertController"] },
    { type: _services_master_service__WEBPACK_IMPORTED_MODULE_7__["MasterService"] },
    { type: _services_toast_service__WEBPACK_IMPORTED_MODULE_6__["ToastService"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] }
];
RelocationFeesPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-relocation-fees',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./relocation-fees.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/user/relocation-fees/relocation-fees.page.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./relocation-fees.page.scss */ "./src/app/user/relocation-fees/relocation-fees.page.scss")).default]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"],
        _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"],
        _user_service__WEBPACK_IMPORTED_MODULE_10__["UserService"],
        _services_storage_service__WEBPACK_IMPORTED_MODULE_8__["StorageService"],
        _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["AlertController"],
        _services_master_service__WEBPACK_IMPORTED_MODULE_7__["MasterService"],
        _services_toast_service__WEBPACK_IMPORTED_MODULE_6__["ToastService"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"]])
], RelocationFeesPage);



/***/ })

}]);
//# sourceMappingURL=relocation-fees-relocation-fees-module-es2015.js.map