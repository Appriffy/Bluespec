{"version":3,"sources":["src/app/app-masters/job-skills/listing/job-skills.page.html","src/app/app-masters/job-skills/listing/job-skills.module.ts","src/app/app-masters/job-skills/listing/job-skills.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/dashboard\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>List Job Skills</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" color=\\\"light\\\" class=\\\"filters-btn\\\" (click)=\\\"loadItems()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"refresh\\\"></ion-icon>\\n      </ion-button>\\n\\n      <ion-button fill=\\\"clear\\\" color=\\\"light\\\" class=\\\"filters-btn\\\" (click)=\\\"openCreateItemModal()\\\" *ngIf=\\\"localUser?.role_id == 1\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n     \\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n  <ion-toolbar class=\\\"filters-toolbar\\\">\\n    <ion-row class=\\\"searchbar-row\\\" align-items-center>\\n      <ion-col>\\n        <ion-searchbar class=\\\"items-searchbar\\\" animated mode=\\\"ios\\\" [(ngModel)]=\\\"searchQuery\\\" (ionChange)=\\\"searchList()\\\" placeholder=\\\"Search skills...\\\"></ion-searchbar>\\n      </ion-col>\\n    </ion-row>\\n    </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content class=\\\"firebase-listing-content\\\">\\n <!------- Loading View ------->\\n <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"loading\\\">\\n  <ion-row justify-content-center align-items-center style=\\\"height: 100%; flex-direction: column\\\">\\n    <ion-spinner name=\\\"bubbles\\\" style=\\\"width:32px;height:32px;margin:0 auto;stroke:#222;fill:#444;text-align: center;\\\"></ion-spinner>\\n    <h5 style=\\\"text-align: center;columns: #555555;\\\">Loading Job Skills...</h5>\\n    </ion-row>\\n  </ion-grid>\\n <!------- Loading View ------->\\n\\n   <!------- Empty View ------->\\n   <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"listing?.length <= 0 && !loading\\\">\\n    <ion-row justify-content-center align-items-center style=\\\"height: 100%; flex-direction: column\\\">\\n      \\n      <ion-icon src=\\\"./assets/sample-icons/side-menu/briefcase.svg\\\" style=\\\"display:block;width:48px;height:48px;color:#444\\\"></ion-icon>\\n      <h5 style=\\\"text-align: center;color: #555555;\\\">No Job Skill Found</h5>\\n      </ion-row>\\n    </ion-grid>\\n   <!------- Empty View ------->\\n\\n      <ion-list class=\\\"items-list\\\" *ngIf=\\\"listing?.length > 0 && !loading\\\">     \\n        <ion-item class=\\\"list-item\\\" *ngFor=\\\"let item of listing\\\" [routerLink]=\\\"['/job-skills/details', item.id]\\\">\\n   \\n          <ion-row class=\\\"user-row\\\">\\n            <!-- <ion-col size=\\\"3\\\" class=\\\"user-image-wrapper\\\">\\n              <app-aspect-ratio [ratio]=\\\"{w: 1, h: 1}\\\">\\n                <app-image-shell class=\\\"user-image\\\" animation=\\\"spinner\\\" [mode]=\\\"'cover'\\\" [src]=\\\"item?.image\\\" [alt]=\\\"'Company Logo'\\\"></app-image-shell>\\n              </app-aspect-ratio>\\n            </ion-col> -->\\n            <ion-col class=\\\"user-data-wrapper\\\">\\n              <div class=\\\"user-info\\\">\\n                <h3 class=\\\"user-name\\\">\\n                  <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"item?.title\\\"></app-text-shell>\\n                </h3>\\n    \\n      <div *ngIf=\\\"!item?.enabled\\\">\\n       <ion-badge class=\\\"schedule-closed\\\" color=\\\"danger\\\">Not Enabled</ion-badge>\\n       </div>\\n    \\n              </div>\\n            </ion-col>\\n          </ion-row>\\n     \\n\\n  </ion-item>\\n     </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { JobSkillsService } from '../job-skills.service';\nimport { JobSkillsPage } from './job-skills.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: JobSkillsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ComponentsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [JobSkillsPage],\n  providers: [\n    JobSkillsService\n  ]\n})\nexport class JobSkillsPageModule {\n\n}\n","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { IonInfiniteScroll, NavController, ModalController } from '@ionic/angular';\nimport { MasterService } from '../../../services/master.service';\nimport { ToastService } from '../../../services/toast.service';\nimport { AuthConstants } from '../../../config/AuthConstants';\nimport { JobSkillsService } from '../job-skills.service';\nimport { JobSkillModel } from '../../../dbmodels/job-skill.model';\nimport { CreateJobSkillModal } from '../create/create-job-skill.modal';\nimport { AuthService } from '../../..//services/auth.service';\nimport { LocalUser } from '../../..//dbmodels/local-user';\n\n@Component({\n  selector: 'app-job-skills',\n  templateUrl: './job-skills.page.html',\n  styleUrls: ['../../../bluspecstyles/listing.page.scss',\n  '../../../bluspecstyles/listing.shell.scss',\n  '../../../bluspecstyles/listing.ios.scss'],\n})\nexport class JobSkillsPage implements OnInit {\n\n  listing: Array<JobSkillModel>;\n  filtered_listing: Array<JobSkillModel>;\n  searchQuery: string;\n  loading : boolean = true;\n\n  localUser:LocalUser;\n\n  constructor(public navCtrl: NavController, private toastService: ToastService,\n    private jobSkillsService: JobSkillsService,\n    private modalController:ModalController,\n    private authService: AuthService) {\n      this.authService.getAuthCache().then(promisedValue=>{\n        this.localUser = promisedValue;\n        if(AuthConstants.DEV_MODE){\n          console.log(\"/***** User Ready with Auth => ****/: \"+this.localUser.id);\n        }\n      });\n  }\n\n \n  ngOnInit(): void {\n    //Subscribe to any auth changes event\n   this.jobSkillsService.invokeListChangeEvent.subscribe(value => {\n    this.filtered_listing = value;\n        this.listing = value;\n        this.loading = false;\n        if(AuthConstants.DEV_MODE){\n          console.log(\"Received from Subject: \"+JSON.stringify(value));\n          this.toastService.presentToast(\"Job skills has been updated.\");\n        }\n        });\n\n        //this.fetchItems();\n        //this.jobSkillsService.getListingDataSource();\n  }\n\n\n  ionViewDidEnter(){\n    //Subscribe to any auth changes event\n    //console.log(\"ionViewDidEnter\");\n      //this.fetchItems();\n      //this.jobSkillsService.getJobAreasFromLocalStorage();\n\n      // this.storageService.get(AuthConstants.JOB_SKILLS).then(response=>{\n      //   if(response){\n      //     if(AuthConstants.DEV_MODE){\n      //   console.log('########## LOCAL SYNC SUCCESSFUL ionViewDidEnter #####: '+JSON.stringify(response));\n      //     }\n      //  this.listing = response;\n      //  this.filtered_listing = response;\n      //    }\n      //   });\n      this.jobSkillsService.getListingDataSource();\n  }\n\n  fetchItems(){\n    //this.loading = true;\n    //Implement No Disturb Loading\n    if(this.listing.length <= 0){\n      this.loading = true;\n    }\n    this.jobSkillsService.getListingDataSource();\n  }\n\n  loadItems(){\n    //let timeCurrent = Math.floor(Date.now() / 1000);\n    this.fetchItems();\n  }\n\n  initializeItems() {\n    this.listing = this.filtered_listing;\n  }\n\n /****************** SEARCH ITEMS ********************/\n searchList() {\n  this.initializeItems();\n  return this.listing = this.listing.filter((thisJob) => {\n    return thisJob.title.toLowerCase().indexOf(this.searchQuery.toLowerCase()) > -1\n  });\n}\n/****************** SEARCH ITEMS ********************/\n\n  async openCreateItemModal() {\n    const modal = await this.modalController.create({\n      component: CreateJobSkillModal,\n      cssClass: 'fullscreen-modal-css'\n    });\n    await modal.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"listing-job-skills-module-es5.js"}