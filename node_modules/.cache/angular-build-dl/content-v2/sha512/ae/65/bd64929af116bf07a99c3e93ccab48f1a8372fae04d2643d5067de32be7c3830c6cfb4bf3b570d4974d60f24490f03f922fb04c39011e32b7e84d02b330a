{"version":3,"sources":["./src/app/user/documents/upload-document/upload-document.page.html","./src/app/user/documents/upload-document/upload-document.module.ts","./src/app/user/documents/upload-document/upload-document.page.scss","./src/app/user/documents/upload-document/upload-document.page.ts"],"names":[],"mappings":"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","file":"default~documents-upload-document-upload-document-module~user-documents-upload-document-upload-docum~05c5089d-es2015.js","sourcesContent":["export default \"<form class=\\\"create-user-form ion-page\\\" [formGroup]=\\\"uploadFileForm\\\" (ngSubmit)=\\\"createFile()\\\">\\n  <ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button defaultHref=\\\"people/profile\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>Upload {{docType}}</ion-title>\\n      <ion-buttons slot=\\\"end\\\">\\n        <ion-button (click)=\\\"dismissModal()\\\">\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-content class=\\\"create-user-content\\\">\\n    <ion-row class=\\\"expiration-countdown\\\">\\n      <span class=\\\"expiration-lead\\\" *ngIf=\\\"docType\\\">\\n        Upload your {{docType}} in PDF, PNG or JPEG Format.\\n      </span>\\n      <span class=\\\"expiration-lead\\\" *ngIf=\\\"!docType\\\" (click)=\\\"openSelectDocumentMaster()\\\">\\n        Click here to select a document type.\\n      </span>\\n    </ion-row>\\n\\n    <ion-row class=\\\"select-user-image-row\\\" *ngIf=\\\"docType\\\">\\n      <ion-col class=\\\"user-image-col\\\" size=\\\"8\\\" (click)=\\\"fileInput.click()\\\">\\n\\n        <app-aspect-ratio [ratio]=\\\"{w: 1, h: 1}\\\" *ngIf=\\\"localFileSrc\\\">\\n          <app-image-shell [mode]=\\\"'cover'\\\" class=\\\"user-image\\\" [src]=\\\"preview\\\" [alt]=\\\"'Upload Document'\\\"></app-image-shell>\\n        </app-aspect-ratio>\\n\\n        <app-aspect-ratio [ratio]=\\\"{w: 1, h: 1}\\\" *ngIf=\\\"!localFileSrc\\\">\\n          <app-image-shell [mode]=\\\"'cover'\\\" class=\\\"user-image\\\" animation=\\\"spinner\\\" [src]=\\\"preview\\\" [alt]=\\\"'Upload Document'\\\"></app-image-shell>\\n        </app-aspect-ratio>\\n        <ion-button class=\\\"change-image-btn\\\" color=\\\"secondary\\\" (click)=\\\"fileInput.click()\\\">\\n          <ion-icon class=\\\"btn-icon\\\" slot=\\\"icon-only\\\" src=\\\"./assets/sample-icons/side-menu/upload.svg\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n\\n  </ion-content>\\n\\n  <ion-footer>\\n\\n  <section class=\\\"user-details-fields fields-section\\\">\\n  <ion-list class=\\\"inputs-list\\\" lines=\\\"full\\\">\\n\\n  <!-- Progress Bar -->\\n  <div class=\\\"progress form-group\\\" *ngIf=\\\"percentDone\\\">\\n    <div class=\\\"progress-bar progress-bar-striped bg-success\\\" role=\\\"progressbar\\\"\\n      [style.width.%]=\\\"percentDone\\\">\\n    </div>\\n  </div>\\n\\n  <!-- File Input -->\\n  <div class=\\\"form-group\\\" style=\\\"display:none;\\\">\\n    <input type=\\\"file\\\" accept=\\\".pdf, .png, .jpeg\\\" (change)=\\\"uploadBinaryFile($event)\\\" #fileInput>\\n  </div>\\n\\n\\n        <ion-item class=\\\"input-item\\\" style=\\\"display:none;\\\">\\n          <ion-label color=\\\"secondary\\\" position=\\\"floating\\\">Select Document Type *</ion-label>\\n          <ion-input type=\\\"text\\\" (click)=\\\"openSelectDocumentMaster()\\\" formControlName=\\\"doc_type\\\"></ion-input>\\n        </ion-item>\\n        <ion-input type=\\\"hidden\\\" formControlName=\\\"doc_type_id\\\"></ion-input>\\n        <ion-input type=\\\"hidden\\\" formControlName=\\\"user_id\\\" required></ion-input>\\n</ion-list>\\n    </section>\\n\\n\\n    <ion-row class=\\\"form-actions-wrapper\\\">\\n      <ion-col>\\n        <ion-button class=\\\"submit-btn\\\" expand=\\\"block\\\" color=\\\"secondary\\\" type=\\\"submit\\\" fill=\\\"solid\\\" [disabled]=\\\"!uploadFileForm.valid\\\">UPLOAD</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-footer>\\n</form>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { UploadDocumentPage } from './upload-document.page';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { SelectDocumentTypePage } from '../../../utility-components/select-document-type/select-document-type.page';\nimport { SelectDocumentTypePageModule } from '../../../utility-components/select-document-type/select-document-type.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UploadDocumentPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ComponentsModule,\n    SelectDocumentTypePageModule,\n    RouterModule.forChild(routes)\n  ],\n  entryComponents:[SelectDocumentTypePage],\n  declarations: [UploadDocumentPage]\n})\nexport class UploadDocumentPageModule {}\n","export default \":host {\\n  --page-margin: var(--app-fair-margin);\\n  --page-background: var(--app-background);\\n  --page-background-shade: var(--app-background-shade);\\n  --page-tags-gutter: 5px;\\n}\\n\\n.expiration-countdown {\\n  color: var(--ion-color-lightest);\\n  background-color: var(--ion-color-danger);\\n  padding: calc(var(--page-margin) / 2) var(--page-margin);\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  z-index: 8;\\n  text-align: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.expiration-countdown .expiration-lead {\\n  padding: 0px calc(var(--page-margin) / 2);\\n  font-weight: 500;\\n  font-size: 14px;\\n}\\n\\n.create-user-content {\\n  --background: var(--page-background);\\n}\\n\\n.create-user-content .select-user-image-row {\\n  --ion-grid-column-padding: 0px;\\n  padding: var(--page-margin);\\n  background-color: var(--page-background-shade);\\n}\\n\\n.create-user-content .select-user-image-row .user-image-col {\\n  margin: 0px auto;\\n  position: relative;\\n}\\n\\n.create-user-content .select-user-image-row .user-image-col .user-image {\\n  background-color: #ffffff;\\n  border-radius: 0%;\\n  border: solid 3px #777777;\\n}\\n\\n.create-user-content .select-user-image-row .change-image-btn {\\n  --border-radius: 50%;\\n  --padding-start: 0px;\\n  --padding-end: 0px;\\n  position: absolute;\\n  right: 0px;\\n  bottom: var(--page-margin);\\n  z-index: 3;\\n  width: 4ch;\\n  height: 4ch;\\n  margin: 20px;\\n}\\n\\n.create-user-content .select-user-image-row .change-image-btn .btn-icon {\\n  font-size: 26px;\\n}\\n\\n.create-user-content .fields-section {\\n  padding: var(--page-margin) 0px;\\n  border-bottom: calc(var(--page-margin) * 2) solid var(--page-background-shade);\\n}\\n\\n.create-user-content .fields-section .section-header {\\n  padding: 0px var(--page-margin);\\n  margin-top: 0px;\\n  margin-bottom: var(--page-margin);\\n}\\n\\n.create-user-content .user-details-fields .inputs-list {\\n  padding: 0px var(--page-margin);\\n}\\n\\n.create-user-content .user-details-fields .input-item {\\n  --padding-start: 0px;\\n  --padding-end: 0px;\\n  --inner-padding-start: 0px;\\n  --inner-padding-end: 0px;\\n}\\n\\n.form-actions-wrapper {\\n  --ion-grid-column-padding: calc(var(--page-margin) / 2);\\n  padding: calc(var(--page-margin) / 2);\\n}\\n\\n.form-actions-wrapper .submit-btn {\\n  margin: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlci9kb2N1bWVudHMvdXBsb2FkLWRvY3VtZW50L0Q6XFxXRUIgTUFSS0VUUExBQ0VcXEFOR1VMQVJcXEJsdXNwZWMvc3JjXFxhcHBcXHVzZXJcXGRvY3VtZW50c1xcdXBsb2FkLWRvY3VtZW50XFx1cGxvYWQtZG9jdW1lbnQucGFnZS5zY3NzIiwic3JjL2FwcC91c2VyL2RvY3VtZW50cy91cGxvYWQtZG9jdW1lbnQvdXBsb2FkLWRvY3VtZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLHFDQUFBO0VBQ0Esd0NBQUE7RUFDQSxvREFBQTtFQUNBLHVCQUFBO0FDREY7O0FESUE7RUFDRSxnQ0FBQTtFQUNBLHlDQUFBO0VBQ0Esd0RBQUE7RUFFQSx3QkFBQTtFQUFBLGdCQUFBO0VBQ0EsTUFBQTtFQUNBLFVBQUE7RUFFQSxrQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDSEY7O0FES0U7RUFDRSx5Q0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ0hKOztBRE9BO0VBQ0Usb0NBQUE7QUNKRjs7QURLRTtFQUNFLDhCQUFBO0VBQ0EsMkJBQUE7RUFDQSw4Q0FBQTtBQ0hKOztBREtJO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtBQ0hOOztBRElNO0VBQ0UseUJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FDRlI7O0FETUk7RUFDRSxvQkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7RUFFQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSwwQkFBQTtFQUNBLFVBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNMTjs7QURPTTtFQUNFLGVBQUE7QUNMUjs7QURVRTtFQUNFLCtCQUFBO0VBQ0EsOEVBQUE7QUNSSjs7QURVSTtFQUNFLCtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlDQUFBO0FDUk47O0FEYUk7RUFDRSwrQkFBQTtBQ1hOOztBRGNJO0VBQ0Usb0JBQUE7RUFDQSxrQkFBQTtFQUNBLDBCQUFBO0VBQ0Esd0JBQUE7QUNaTjs7QURrQkE7RUFDRSx1REFBQTtFQUVBLHFDQUFBO0FDaEJGOztBRGtCRTtFQUNFLFdBQUE7QUNoQkoiLCJmaWxlIjoic3JjL2FwcC91c2VyL2RvY3VtZW50cy91cGxvYWQtZG9jdW1lbnQvdXBsb2FkLWRvY3VtZW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi8uLi90aGVtZS9taXhpbnMvaW5wdXRzL2NoZWNrYm94LXRhZ1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1mYWlyLW1hcmdpbik7XHJcbiAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcclxuICAtLXBhZ2UtYmFja2dyb3VuZC1zaGFkZTogdmFyKC0tYXBwLWJhY2tncm91bmQtc2hhZGUpO1xyXG4gIC0tcGFnZS10YWdzLWd1dHRlcjogNXB4O1xyXG59XHJcblxyXG4uZXhwaXJhdGlvbi1jb3VudGRvd24ge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRlc3QpO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gIHBhZGRpbmc6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMikgdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG5cclxuICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gIHRvcDogMDtcclxuICB6LWluZGV4OiA4O1xyXG5cclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgLmV4cGlyYXRpb24tbGVhZCB7XHJcbiAgICBwYWRkaW5nOiAwcHggY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgfVxyXG59IFxyXG5cclxuLmNyZWF0ZS11c2VyLWNvbnRlbnQge1xyXG4gIC0tYmFja2dyb3VuZDogdmFyKC0tcGFnZS1iYWNrZ3JvdW5kKTtcclxuICAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IHtcclxuICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcclxuICAgIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhZ2UtYmFja2dyb3VuZC1zaGFkZSk7XHJcbiAgICAvL2JhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbiAgICAudXNlci1pbWFnZS1jb2wge1xyXG4gICAgICBtYXJnaW46IDBweCBhdXRvO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIC51c2VyLWltYWdlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDAlO1xyXG4gICAgICAgIGJvcmRlcjogc29saWQgM3B4ICM3Nzc3Nzc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuY2hhbmdlLWltYWdlLWJ0biB7XHJcbiAgICAgIC0tYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcclxuICAgICAgLS1wYWRkaW5nLWVuZDogMHB4O1xyXG5cclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMHB4O1xyXG4gICAgICBib3R0b206IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgICAgei1pbmRleDogMztcclxuICAgICAgd2lkdGg6IDRjaDtcclxuICAgICAgaGVpZ2h0OiA0Y2g7XHJcbiAgICAgIG1hcmdpbjogMjBweDtcclxuXHJcbiAgICAgIC5idG4taWNvbiB7XHJcbiAgICAgICAgZm9udC1zaXplOiAyNnB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuZmllbGRzLXNlY3Rpb24ge1xyXG4gICAgcGFkZGluZzogdmFyKC0tcGFnZS1tYXJnaW4pIDBweDtcclxuICAgIGJvcmRlci1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMikgc29saWQgdmFyKC0tcGFnZS1iYWNrZ3JvdW5kLXNoYWRlKTtcclxuXHJcbiAgICAuc2VjdGlvbi1oZWFkZXIge1xyXG4gICAgICBwYWRkaW5nOiAwcHggdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gICAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC51c2VyLWRldGFpbHMtZmllbGRzIHtcclxuICAgIC5pbnB1dHMtbGlzdCB7XHJcbiAgICAgIHBhZGRpbmc6IDBweCB2YXIoLS1wYWdlLW1hcmdpbik7XHJcbiAgICB9XHJcblxyXG4gICAgLmlucHV0LWl0ZW0ge1xyXG4gICAgICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcclxuICAgICAgLS1wYWRkaW5nLWVuZDogMHB4O1xyXG4gICAgICAtLWlubmVyLXBhZGRpbmctc3RhcnQ6IDBweDtcclxuICAgICAgLS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbi5mb3JtLWFjdGlvbnMtd3JhcHBlciB7XHJcbiAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuXHJcbiAgcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuXHJcbiAgLnN1Ym1pdC1idG4ge1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbiAgfVxyXG59XHJcbiIsIjpob3N0IHtcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLWZhaXItbWFyZ2luKTtcbiAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcbiAgLS1wYWdlLWJhY2tncm91bmQtc2hhZGU6IHZhcigtLWFwcC1iYWNrZ3JvdW5kLXNoYWRlKTtcbiAgLS1wYWdlLXRhZ3MtZ3V0dGVyOiA1cHg7XG59XG5cbi5leHBpcmF0aW9uLWNvdW50ZG93biB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRlc3QpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgei1pbmRleDogODtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5leHBpcmF0aW9uLWNvdW50ZG93biAuZXhwaXJhdGlvbi1sZWFkIHtcbiAgcGFkZGluZzogMHB4IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmNyZWF0ZS11c2VyLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IHtcbiAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZzogMHB4O1xuICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhZ2UtYmFja2dyb3VuZC1zaGFkZSk7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IC51c2VyLWltYWdlLWNvbCB7XG4gIG1hcmdpbjogMHB4IGF1dG87XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC5zZWxlY3QtdXNlci1pbWFnZS1yb3cgLnVzZXItaW1hZ2UtY29sIC51c2VyLWltYWdlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgYm9yZGVyLXJhZGl1czogMCU7XG4gIGJvcmRlcjogc29saWQgM3B4ICM3Nzc3Nzc7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IC5jaGFuZ2UtaW1hZ2UtYnRuIHtcbiAgLS1ib3JkZXItcmFkaXVzOiA1MCU7XG4gIC0tcGFkZGluZy1zdGFydDogMHB4O1xuICAtLXBhZGRpbmctZW5kOiAwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDBweDtcbiAgYm90dG9tOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIHotaW5kZXg6IDM7XG4gIHdpZHRoOiA0Y2g7XG4gIGhlaWdodDogNGNoO1xuICBtYXJnaW46IDIwcHg7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IC5jaGFuZ2UtaW1hZ2UtYnRuIC5idG4taWNvbiB7XG4gIGZvbnQtc2l6ZTogMjZweDtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC5maWVsZHMtc2VjdGlvbiB7XG4gIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKSAwcHg7XG4gIGJvcmRlci1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMikgc29saWQgdmFyKC0tcGFnZS1iYWNrZ3JvdW5kLXNoYWRlKTtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC5maWVsZHMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXIge1xuICBwYWRkaW5nOiAwcHggdmFyKC0tcGFnZS1tYXJnaW4pO1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXBhZ2UtbWFyZ2luKTtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC51c2VyLWRldGFpbHMtZmllbGRzIC5pbnB1dHMtbGlzdCB7XG4gIHBhZGRpbmc6IDBweCB2YXIoLS1wYWdlLW1hcmdpbik7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAudXNlci1kZXRhaWxzLWZpZWxkcyAuaW5wdXQtaXRlbSB7XG4gIC0tcGFkZGluZy1zdGFydDogMHB4O1xuICAtLXBhZGRpbmctZW5kOiAwcHg7XG4gIC0taW5uZXItcGFkZGluZy1zdGFydDogMHB4O1xuICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XG59XG5cbi5mb3JtLWFjdGlvbnMtd3JhcHBlciB7XG4gIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIHBhZGRpbmc6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG59XG4uZm9ybS1hY3Rpb25zLXdyYXBwZXIgLnN1Ym1pdC1idG4ge1xuICBtYXJnaW46IDBweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport { LocalUser } from '../../../dbmodels/local-user';\nimport { AuthService } from '../../../services/auth.service';\nimport { MasterService } from '../../../services/master.service';\nimport { AlertController, LoadingController, ModalController } from '@ionic/angular';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { UserService } from '../../user.service';\nimport { SelectDocumentTypePage } from '../../../utility-components/select-document-type/select-document-type.page';\n\n@Component({\n  selector: 'app-upload-document',\n  templateUrl: './upload-document.page.html',\n  styleUrls: ['./upload-document.page.scss'],\n})\nexport class UploadDocumentPage implements OnInit {\n  uploadFileForm: FormGroup;\n  api_key:any;\n  localUser:LocalUser;\n  preview: string = '';\n  percentDone: any = 0;\n  docType = \"\";\n  localFileSrc: any;\n\n  constructor(private authService:AuthService,\n    public masterService: MasterService,\n    private modalController: ModalController,\n    public alertController: AlertController,\n    private route: ActivatedRoute,\n    private userService: UserService,\n    private loadingController: LoadingController,\n    public router:Router) { }\n\n  ngOnInit() {\n    this.uploadFileForm = new FormGroup({\n      user_id: new FormControl('', Validators.required),\n      doc_type_id: new FormControl(0, Validators.required),\n      doc_type: new FormControl(\"\", Validators.required),\n      document: new FormControl('', Validators.required) \n    });\n\n    this.authService.getAuthCache().then(promisedValue=>{\n      this.localUser = promisedValue;\n      this.api_key = this.localUser.api_key;\n    this.uploadFileForm.patchValue({user_id:this.localUser.id});\n\n    });\n\n    this.route.paramMap.subscribe(params => {\n      this.docType = params.get(\"id\");\n      //alert(this.docType);\n      if(this.docType == null || this.docType == undefined || this.docType == \"\"){\n        this.openSelectDocumentMaster();\n      }\n      });\n  }\n\n  async openSelectDocumentMaster() {\n    //console.log('########## openSelectDocumentMaster #####: ');\n    const modal = await this.modalController.create({\n      component: SelectDocumentTypePage\n    });\n\n    modal.onDidDismiss().then(item => {\n      if (item.data != null) {\n        //alert(JSON.stringify(item));\n        this.docType = item.data.title;\n        this.uploadFileForm.controls.doc_type.patchValue(item.data.title);\n        this.uploadFileForm.controls.doc_type_id.patchValue(item.data.id);\n      }\n    });\n    await modal.present();\n   }\n\n\n  createFile() {\n    this.presentLoadingWithOptions();\n   let postData = {\n     user_id:this.uploadFileForm.value.user_id,\n     title:'',\n     doc_type:this.uploadFileForm.value.doc_type_id,\n     document : this.preview,\n   }\n\n   const formData = new FormData();\n   formData.append('user_id', this.uploadFileForm.get('user_id').value);\n   formData.append('doc_type', this.uploadFileForm.get('doc_type_id').value);\n    formData.append('document', this.uploadFileForm.get('document').value);\n\n   console.log('########## Upload Params #####: '+JSON.stringify(postData));\n   console.log('########## Upload Params formData #####: '+JSON.stringify(formData));\n\n   this.userService.callDocUploadAPI(this.api_key, postData)\n    //this.userService.callDocUploadAPI(this.api_key, formData)\n    .subscribe((event: any) => {\n      console.log('########## Upload Result #####: '+JSON.stringify(event));\n      this.loadingController.dismiss();\n     if (!event.error) {\n      this.router.navigate(['/list-documents', this.localUser.id]);\n      } else {\n        this.presentAlert(event.message);\n      }\n    },\n    (error: any) => {\n     this.loadingController.dismiss();\n    this.presentAlert('Looks like there is a Network Issue.'+error.message);\n    });\n\n  }\n\n\n\n  // Image Preview\n  uploadBinaryFile(event) {\n    const file = (event.target as HTMLInputElement).files[0];\n    this.uploadFileForm.patchValue({\n      document: file\n    });\n    this.uploadFileForm.get('document').updateValueAndValidity()\n    console.log(\"uploadFile() \"+this.uploadFileForm.value);\n    // File Preview\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.preview = reader.result as string;\n      console.log(\"uploadFile() got preview: \"+this.preview);\n    }\n    reader.readAsDataURL(file);\n\n    this.localFileSrc = URL.createObjectURL(file);\n  }\n\n  uploadFile(event) {\n    //https://www.techiediaries.com/angular-file-upload-progress-bar/\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.preview = file;\n      console.log(\"Upload File now => \"+file);\n      this.uploadFileForm.patchValue({\n        document: file\n      });\n      this.uploadFileForm.get('document').updateValueAndValidity()\n      //this.uploadFileForm.get('document').setValue(file);\n      console.log(\"Upload File Now Again => \"+JSON.stringify(file.data));\n    }\n  }\n\n  dismissModal(){\n    this.router.navigate(['/list-documents', this.localUser.id]);\n  }\n\n  private async presentAlert(message: string): Promise<HTMLIonAlertElement> {\n    const alert = await this.alertController.create({\n      header: 'Alert',\n      subHeader: '',\n      message: message,\n      buttons: ['OK']\n    });\n    await alert.present();\n    return alert;\n  }\n\n  async presentLoadingWithOptions() {\n    const loading = await this.loadingController.create({\n      animated:true,\n      spinner: \"bubbles\",\n      message: 'Uploading '+this.docType+'..',\n      translucent: true,\n      cssClass: 'custom-class custom-loading'\n    });\n    return await loading.present();\n  }\n\n\n}\n"],"sourceRoot":"webpack:///"}