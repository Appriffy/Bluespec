function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["default~documents-upload-document-upload-document-module~user-documents-upload-document-upload-docum~05c5089d"], {
  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/user/documents/upload-document/upload-document.page.html":
  /*!****************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/user/documents/upload-document/upload-document.page.html ***!
    \****************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppUserDocumentsUploadDocumentUploadDocumentPageHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<form class=\"create-user-form ion-page\" [formGroup]=\"uploadFileForm\" (ngSubmit)=\"createFile()\">\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"start\">\n        <ion-back-button defaultHref=\"people/profile\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>Upload {{docType}}</ion-title>\n      <ion-buttons slot=\"end\">\n        <ion-button (click)=\"dismissModal()\">\n          <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-content class=\"create-user-content\">\n    <ion-row class=\"expiration-countdown\">\n      <span class=\"expiration-lead\" *ngIf=\"docType\">\n        Upload your {{docType}} in PDF, PNG or JPEG Format.\n      </span>\n      <span class=\"expiration-lead\" *ngIf=\"!docType\" (click)=\"openSelectDocumentMaster()\">\n        Click here to select a document type.\n      </span>\n    </ion-row>\n\n    <ion-row class=\"select-user-image-row\" *ngIf=\"docType\">\n      <ion-col class=\"user-image-col\" size=\"8\" (click)=\"fileInput.click()\">\n\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\" *ngIf=\"localFileSrc\">\n          <app-image-shell [mode]=\"'cover'\" class=\"user-image\" [src]=\"preview\" [alt]=\"'Upload Document'\"></app-image-shell>\n        </app-aspect-ratio>\n\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\" *ngIf=\"!localFileSrc\">\n          <app-image-shell [mode]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"preview\" [alt]=\"'Upload Document'\"></app-image-shell>\n        </app-aspect-ratio>\n        <ion-button class=\"change-image-btn\" color=\"secondary\" (click)=\"fileInput.click()\">\n          <ion-icon class=\"btn-icon\" slot=\"icon-only\" src=\"./assets/sample-icons/side-menu/upload.svg\"></ion-icon>\n        </ion-button>\n      </ion-col>\n    </ion-row>\n\n  </ion-content>\n\n  <ion-footer>\n\n  <section class=\"user-details-fields fields-section\">\n  <ion-list class=\"inputs-list\" lines=\"full\">\n\n  <!-- Progress Bar -->\n  <div class=\"progress form-group\" *ngIf=\"percentDone\">\n    <div class=\"progress-bar progress-bar-striped bg-success\" role=\"progressbar\"\n      [style.width.%]=\"percentDone\">\n    </div>\n  </div>\n\n  <!-- File Input -->\n  <div class=\"form-group\" style=\"display:none;\">\n    <input type=\"file\" accept=\".pdf, .png, .jpeg\" (change)=\"uploadBinaryFile($event)\" #fileInput>\n  </div>\n\n\n        <ion-item class=\"input-item\" style=\"display:none;\">\n          <ion-label color=\"secondary\" position=\"floating\">Select Document Type *</ion-label>\n          <ion-input type=\"text\" (click)=\"openSelectDocumentMaster()\" formControlName=\"doc_type\"></ion-input>\n        </ion-item>\n        <ion-input type=\"hidden\" formControlName=\"doc_type_id\"></ion-input>\n        <ion-input type=\"hidden\" formControlName=\"user_id\" required></ion-input>\n</ion-list>\n    </section>\n\n\n    <ion-row class=\"form-actions-wrapper\">\n      <ion-col>\n        <ion-button class=\"submit-btn\" expand=\"block\" color=\"secondary\" type=\"submit\" fill=\"solid\" [disabled]=\"!uploadFileForm.valid\">UPLOAD</ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-footer>\n</form>\n";
    /***/
  },

  /***/
  "./src/app/user/documents/upload-document/upload-document.module.ts":
  /*!**************************************************************************!*\
    !*** ./src/app/user/documents/upload-document/upload-document.module.ts ***!
    \**************************************************************************/

  /*! exports provided: UploadDocumentPageModule */

  /***/
  function srcAppUserDocumentsUploadDocumentUploadDocumentModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "UploadDocumentPageModule", function () {
      return UploadDocumentPageModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/fesm2015/common.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! @ionic/angular */
    "./node_modules/@ionic/angular/dist/fesm5.js");
    /* harmony import */


    var _upload_document_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! ./upload-document.page */
    "./src/app/user/documents/upload-document/upload-document.page.ts");
    /* harmony import */


    var _components_components_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! ../../../components/components.module */
    "./src/app/components/components.module.ts");
    /* harmony import */


    var _utility_components_select_document_type_select_document_type_page__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
    /*! ../../../utility-components/select-document-type/select-document-type.page */
    "./src/app/utility-components/select-document-type/select-document-type.page.ts");
    /* harmony import */


    var _utility_components_select_document_type_select_document_type_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
    /*! ../../../utility-components/select-document-type/select-document-type.module */
    "./src/app/utility-components/select-document-type/select-document-type.module.ts");

    var routes = [{
      path: '',
      component: _upload_document_page__WEBPACK_IMPORTED_MODULE_6__["UploadDocumentPage"]
    }];

    var UploadDocumentPageModule = function UploadDocumentPageModule() {
      _classCallCheck(this, UploadDocumentPageModule);
    };

    UploadDocumentPageModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"], _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"], _components_components_module__WEBPACK_IMPORTED_MODULE_7__["ComponentsModule"], _utility_components_select_document_type_select_document_type_module__WEBPACK_IMPORTED_MODULE_9__["SelectDocumentTypePageModule"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild(routes)],
      entryComponents: [_utility_components_select_document_type_select_document_type_page__WEBPACK_IMPORTED_MODULE_8__["SelectDocumentTypePage"]],
      declarations: [_upload_document_page__WEBPACK_IMPORTED_MODULE_6__["UploadDocumentPage"]]
    })], UploadDocumentPageModule);
    /***/
  },

  /***/
  "./src/app/user/documents/upload-document/upload-document.page.scss":
  /*!**************************************************************************!*\
    !*** ./src/app/user/documents/upload-document/upload-document.page.scss ***!
    \**************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppUserDocumentsUploadDocumentUploadDocumentPageScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = ":host {\n  --page-margin: var(--app-fair-margin);\n  --page-background: var(--app-background);\n  --page-background-shade: var(--app-background-shade);\n  --page-tags-gutter: 5px;\n}\n\n.expiration-countdown {\n  color: var(--ion-color-lightest);\n  background-color: var(--ion-color-danger);\n  padding: calc(var(--page-margin) / 2) var(--page-margin);\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  z-index: 8;\n  text-align: center;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n}\n\n.expiration-countdown .expiration-lead {\n  padding: 0px calc(var(--page-margin) / 2);\n  font-weight: 500;\n  font-size: 14px;\n}\n\n.create-user-content {\n  --background: var(--page-background);\n}\n\n.create-user-content .select-user-image-row {\n  --ion-grid-column-padding: 0px;\n  padding: var(--page-margin);\n  background-color: var(--page-background-shade);\n}\n\n.create-user-content .select-user-image-row .user-image-col {\n  margin: 0px auto;\n  position: relative;\n}\n\n.create-user-content .select-user-image-row .user-image-col .user-image {\n  background-color: #ffffff;\n  border-radius: 0%;\n  border: solid 3px #777777;\n}\n\n.create-user-content .select-user-image-row .change-image-btn {\n  --border-radius: 50%;\n  --padding-start: 0px;\n  --padding-end: 0px;\n  position: absolute;\n  right: 0px;\n  bottom: var(--page-margin);\n  z-index: 3;\n  width: 4ch;\n  height: 4ch;\n  margin: 20px;\n}\n\n.create-user-content .select-user-image-row .change-image-btn .btn-icon {\n  font-size: 26px;\n}\n\n.create-user-content .fields-section {\n  padding: var(--page-margin) 0px;\n  border-bottom: calc(var(--page-margin) * 2) solid var(--page-background-shade);\n}\n\n.create-user-content .fields-section .section-header {\n  padding: 0px var(--page-margin);\n  margin-top: 0px;\n  margin-bottom: var(--page-margin);\n}\n\n.create-user-content .user-details-fields .inputs-list {\n  padding: 0px var(--page-margin);\n}\n\n.create-user-content .user-details-fields .input-item {\n  --padding-start: 0px;\n  --padding-end: 0px;\n  --inner-padding-start: 0px;\n  --inner-padding-end: 0px;\n}\n\n.form-actions-wrapper {\n  --ion-grid-column-padding: calc(var(--page-margin) / 2);\n  padding: calc(var(--page-margin) / 2);\n}\n\n.form-actions-wrapper .submit-btn {\n  margin: 0px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlci9kb2N1bWVudHMvdXBsb2FkLWRvY3VtZW50L0Q6XFxXRUIgTUFSS0VUUExBQ0VcXEFOR1VMQVJcXEJsdXNwZWMvc3JjXFxhcHBcXHVzZXJcXGRvY3VtZW50c1xcdXBsb2FkLWRvY3VtZW50XFx1cGxvYWQtZG9jdW1lbnQucGFnZS5zY3NzIiwic3JjL2FwcC91c2VyL2RvY3VtZW50cy91cGxvYWQtZG9jdW1lbnQvdXBsb2FkLWRvY3VtZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLHFDQUFBO0VBQ0Esd0NBQUE7RUFDQSxvREFBQTtFQUNBLHVCQUFBO0FDREY7O0FESUE7RUFDRSxnQ0FBQTtFQUNBLHlDQUFBO0VBQ0Esd0RBQUE7RUFFQSx3QkFBQTtFQUFBLGdCQUFBO0VBQ0EsTUFBQTtFQUNBLFVBQUE7RUFFQSxrQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDSEY7O0FES0U7RUFDRSx5Q0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ0hKOztBRE9BO0VBQ0Usb0NBQUE7QUNKRjs7QURLRTtFQUNFLDhCQUFBO0VBQ0EsMkJBQUE7RUFDQSw4Q0FBQTtBQ0hKOztBREtJO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtBQ0hOOztBRElNO0VBQ0UseUJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FDRlI7O0FETUk7RUFDRSxvQkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7RUFFQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSwwQkFBQTtFQUNBLFVBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNMTjs7QURPTTtFQUNFLGVBQUE7QUNMUjs7QURVRTtFQUNFLCtCQUFBO0VBQ0EsOEVBQUE7QUNSSjs7QURVSTtFQUNFLCtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlDQUFBO0FDUk47O0FEYUk7RUFDRSwrQkFBQTtBQ1hOOztBRGNJO0VBQ0Usb0JBQUE7RUFDQSxrQkFBQTtFQUNBLDBCQUFBO0VBQ0Esd0JBQUE7QUNaTjs7QURrQkE7RUFDRSx1REFBQTtFQUVBLHFDQUFBO0FDaEJGOztBRGtCRTtFQUNFLFdBQUE7QUNoQkoiLCJmaWxlIjoic3JjL2FwcC91c2VyL2RvY3VtZW50cy91cGxvYWQtZG9jdW1lbnQvdXBsb2FkLWRvY3VtZW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi8uLi90aGVtZS9taXhpbnMvaW5wdXRzL2NoZWNrYm94LXRhZ1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1mYWlyLW1hcmdpbik7XHJcbiAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcclxuICAtLXBhZ2UtYmFja2dyb3VuZC1zaGFkZTogdmFyKC0tYXBwLWJhY2tncm91bmQtc2hhZGUpO1xyXG4gIC0tcGFnZS10YWdzLWd1dHRlcjogNXB4O1xyXG59XHJcblxyXG4uZXhwaXJhdGlvbi1jb3VudGRvd24ge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRlc3QpO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gIHBhZGRpbmc6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMikgdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG5cclxuICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gIHRvcDogMDtcclxuICB6LWluZGV4OiA4O1xyXG5cclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgLmV4cGlyYXRpb24tbGVhZCB7XHJcbiAgICBwYWRkaW5nOiAwcHggY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgfVxyXG59IFxyXG5cclxuLmNyZWF0ZS11c2VyLWNvbnRlbnQge1xyXG4gIC0tYmFja2dyb3VuZDogdmFyKC0tcGFnZS1iYWNrZ3JvdW5kKTtcclxuICAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IHtcclxuICAgIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IDBweDtcclxuICAgIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhZ2UtYmFja2dyb3VuZC1zaGFkZSk7XHJcbiAgICAvL2JhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbiAgICAudXNlci1pbWFnZS1jb2wge1xyXG4gICAgICBtYXJnaW46IDBweCBhdXRvO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIC51c2VyLWltYWdlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDAlO1xyXG4gICAgICAgIGJvcmRlcjogc29saWQgM3B4ICM3Nzc3Nzc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuY2hhbmdlLWltYWdlLWJ0biB7XHJcbiAgICAgIC0tYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcclxuICAgICAgLS1wYWRkaW5nLWVuZDogMHB4O1xyXG5cclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMHB4O1xyXG4gICAgICBib3R0b206IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgICAgei1pbmRleDogMztcclxuICAgICAgd2lkdGg6IDRjaDtcclxuICAgICAgaGVpZ2h0OiA0Y2g7XHJcbiAgICAgIG1hcmdpbjogMjBweDtcclxuXHJcbiAgICAgIC5idG4taWNvbiB7XHJcbiAgICAgICAgZm9udC1zaXplOiAyNnB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuZmllbGRzLXNlY3Rpb24ge1xyXG4gICAgcGFkZGluZzogdmFyKC0tcGFnZS1tYXJnaW4pIDBweDtcclxuICAgIGJvcmRlci1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMikgc29saWQgdmFyKC0tcGFnZS1iYWNrZ3JvdW5kLXNoYWRlKTtcclxuXHJcbiAgICAuc2VjdGlvbi1oZWFkZXIge1xyXG4gICAgICBwYWRkaW5nOiAwcHggdmFyKC0tcGFnZS1tYXJnaW4pO1xyXG4gICAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXBhZ2UtbWFyZ2luKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC51c2VyLWRldGFpbHMtZmllbGRzIHtcclxuICAgIC5pbnB1dHMtbGlzdCB7XHJcbiAgICAgIHBhZGRpbmc6IDBweCB2YXIoLS1wYWdlLW1hcmdpbik7XHJcbiAgICB9XHJcblxyXG4gICAgLmlucHV0LWl0ZW0ge1xyXG4gICAgICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcclxuICAgICAgLS1wYWRkaW5nLWVuZDogMHB4O1xyXG4gICAgICAtLWlubmVyLXBhZGRpbmctc3RhcnQ6IDBweDtcclxuICAgICAgLS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbi5mb3JtLWFjdGlvbnMtd3JhcHBlciB7XHJcbiAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuXHJcbiAgcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuXHJcbiAgLnN1Ym1pdC1idG4ge1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbiAgfVxyXG59XHJcbiIsIjpob3N0IHtcbiAgLS1wYWdlLW1hcmdpbjogdmFyKC0tYXBwLWZhaXItbWFyZ2luKTtcbiAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kKTtcbiAgLS1wYWdlLWJhY2tncm91bmQtc2hhZGU6IHZhcigtLWFwcC1iYWNrZ3JvdW5kLXNoYWRlKTtcbiAgLS1wYWdlLXRhZ3MtZ3V0dGVyOiA1cHg7XG59XG5cbi5leHBpcmF0aW9uLWNvdW50ZG93biB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRlc3QpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgei1pbmRleDogODtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5leHBpcmF0aW9uLWNvdW50ZG93biAuZXhwaXJhdGlvbi1sZWFkIHtcbiAgcGFkZGluZzogMHB4IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmNyZWF0ZS11c2VyLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IHtcbiAgLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZzogMHB4O1xuICBwYWRkaW5nOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhZ2UtYmFja2dyb3VuZC1zaGFkZSk7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IC51c2VyLWltYWdlLWNvbCB7XG4gIG1hcmdpbjogMHB4IGF1dG87XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC5zZWxlY3QtdXNlci1pbWFnZS1yb3cgLnVzZXItaW1hZ2UtY29sIC51c2VyLWltYWdlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgYm9yZGVyLXJhZGl1czogMCU7XG4gIGJvcmRlcjogc29saWQgM3B4ICM3Nzc3Nzc7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IC5jaGFuZ2UtaW1hZ2UtYnRuIHtcbiAgLS1ib3JkZXItcmFkaXVzOiA1MCU7XG4gIC0tcGFkZGluZy1zdGFydDogMHB4O1xuICAtLXBhZGRpbmctZW5kOiAwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDBweDtcbiAgYm90dG9tOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIHotaW5kZXg6IDM7XG4gIHdpZHRoOiA0Y2g7XG4gIGhlaWdodDogNGNoO1xuICBtYXJnaW46IDIwcHg7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAuc2VsZWN0LXVzZXItaW1hZ2Utcm93IC5jaGFuZ2UtaW1hZ2UtYnRuIC5idG4taWNvbiB7XG4gIGZvbnQtc2l6ZTogMjZweDtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC5maWVsZHMtc2VjdGlvbiB7XG4gIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKSAwcHg7XG4gIGJvcmRlci1ib3R0b206IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pICogMikgc29saWQgdmFyKC0tcGFnZS1iYWNrZ3JvdW5kLXNoYWRlKTtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC5maWVsZHMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXIge1xuICBwYWRkaW5nOiAwcHggdmFyKC0tcGFnZS1tYXJnaW4pO1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXBhZ2UtbWFyZ2luKTtcbn1cbi5jcmVhdGUtdXNlci1jb250ZW50IC51c2VyLWRldGFpbHMtZmllbGRzIC5pbnB1dHMtbGlzdCB7XG4gIHBhZGRpbmc6IDBweCB2YXIoLS1wYWdlLW1hcmdpbik7XG59XG4uY3JlYXRlLXVzZXItY29udGVudCAudXNlci1kZXRhaWxzLWZpZWxkcyAuaW5wdXQtaXRlbSB7XG4gIC0tcGFkZGluZy1zdGFydDogMHB4O1xuICAtLXBhZGRpbmctZW5kOiAwcHg7XG4gIC0taW5uZXItcGFkZGluZy1zdGFydDogMHB4O1xuICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XG59XG5cbi5mb3JtLWFjdGlvbnMtd3JhcHBlciB7XG4gIC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmc6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIHBhZGRpbmc6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG59XG4uZm9ybS1hY3Rpb25zLXdyYXBwZXIgLnN1Ym1pdC1idG4ge1xuICBtYXJnaW46IDBweDtcbn0iXX0= */";
    /***/
  },

  /***/
  "./src/app/user/documents/upload-document/upload-document.page.ts":
  /*!************************************************************************!*\
    !*** ./src/app/user/documents/upload-document/upload-document.page.ts ***!
    \************************************************************************/

  /*! exports provided: UploadDocumentPage */

  /***/
  function srcAppUserDocumentsUploadDocumentUploadDocumentPageTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "UploadDocumentPage", function () {
      return UploadDocumentPage;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");
    /* harmony import */


    var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ../../../services/auth.service */
    "./src/app/services/auth.service.ts");
    /* harmony import */


    var _services_master_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ../../../services/master.service */
    "./src/app/services/master.service.ts");
    /* harmony import */


    var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! @ionic/angular */
    "./node_modules/@ionic/angular/dist/fesm5.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! ../../user.service */
    "./src/app/user/user.service.ts");
    /* harmony import */


    var _utility_components_select_document_type_select_document_type_page__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
    /*! ../../../utility-components/select-document-type/select-document-type.page */
    "./src/app/utility-components/select-document-type/select-document-type.page.ts");

    var UploadDocumentPage =
    /*#__PURE__*/
    function () {
      function UploadDocumentPage(authService, masterService, modalController, alertController, route, userService, loadingController, router) {
        _classCallCheck(this, UploadDocumentPage);

        this.authService = authService;
        this.masterService = masterService;
        this.modalController = modalController;
        this.alertController = alertController;
        this.route = route;
        this.userService = userService;
        this.loadingController = loadingController;
        this.router = router;
        this.preview = '';
        this.percentDone = 0;
        this.docType = "";
      }

      _createClass(UploadDocumentPage, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          var _this = this;

          this.uploadFileForm = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
            user_id: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            doc_type_id: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](0, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            doc_type: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]("", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            document: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required)
          });
          this.authService.getAuthCache().then(function (promisedValue) {
            _this.localUser = promisedValue;
            _this.api_key = _this.localUser.api_key;

            _this.uploadFileForm.patchValue({
              user_id: _this.localUser.id
            });
          });
          this.route.paramMap.subscribe(function (params) {
            _this.docType = params.get("id"); //alert(this.docType);

            if (_this.docType == null || _this.docType == undefined || _this.docType == "") {
              _this.openSelectDocumentMaster();
            }
          });
        }
      }, {
        key: "openSelectDocumentMaster",
        value: function openSelectDocumentMaster() {
          return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0,
          /*#__PURE__*/
          regeneratorRuntime.mark(function _callee() {
            var _this2 = this;

            var modal;
            return regeneratorRuntime.wrap(function _callee$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    _context.next = 2;
                    return this.modalController.create({
                      component: _utility_components_select_document_type_select_document_type_page__WEBPACK_IMPORTED_MODULE_8__["SelectDocumentTypePage"]
                    });

                  case 2:
                    modal = _context.sent;
                    modal.onDidDismiss().then(function (item) {
                      if (item.data != null) {
                        //alert(JSON.stringify(item));
                        _this2.docType = item.data.title;

                        _this2.uploadFileForm.controls.doc_type.patchValue(item.data.title);

                        _this2.uploadFileForm.controls.doc_type_id.patchValue(item.data.id);
                      }
                    });
                    _context.next = 6;
                    return modal.present();

                  case 6:
                  case "end":
                    return _context.stop();
                }
              }
            }, _callee, this);
          }));
        }
      }, {
        key: "createFile",
        value: function createFile() {
          var _this3 = this;

          this.presentLoadingWithOptions();
          var postData = {
            user_id: this.uploadFileForm.value.user_id,
            title: '',
            doc_type: this.uploadFileForm.value.doc_type_id,
            document: this.preview
          };
          var formData = new FormData();
          formData.append('user_id', this.uploadFileForm.get('user_id').value);
          formData.append('doc_type', this.uploadFileForm.get('doc_type_id').value);
          formData.append('document', this.uploadFileForm.get('document').value);
          console.log('########## Upload Params #####: ' + JSON.stringify(postData));
          console.log('########## Upload Params formData #####: ' + JSON.stringify(formData));
          this.userService.callDocUploadAPI(this.api_key, postData) //this.userService.callDocUploadAPI(this.api_key, formData)
          .subscribe(function (event) {
            console.log('########## Upload Result #####: ' + JSON.stringify(event));

            _this3.loadingController.dismiss();

            if (!event.error) {
              _this3.router.navigate(['/list-documents', _this3.localUser.id]);
            } else {
              _this3.presentAlert(event.message);
            }
          }, function (error) {
            _this3.loadingController.dismiss();

            _this3.presentAlert('Looks like there is a Network Issue.' + error.message);
          });
        } // Image Preview

      }, {
        key: "uploadBinaryFile",
        value: function uploadBinaryFile(event) {
          var _this4 = this;

          var file = event.target.files[0];
          this.uploadFileForm.patchValue({
            document: file
          });
          this.uploadFileForm.get('document').updateValueAndValidity();
          console.log("uploadFile() " + this.uploadFileForm.value); // File Preview

          var reader = new FileReader();

          reader.onload = function () {
            _this4.preview = reader.result;
            console.log("uploadFile() got preview: " + _this4.preview);
          };

          reader.readAsDataURL(file);
          this.localFileSrc = URL.createObjectURL(file);
        }
      }, {
        key: "uploadFile",
        value: function uploadFile(event) {
          //https://www.techiediaries.com/angular-file-upload-progress-bar/
          if (event.target.files.length > 0) {
            var file = event.target.files[0];
            this.preview = file;
            console.log("Upload File now => " + file);
            this.uploadFileForm.patchValue({
              document: file
            });
            this.uploadFileForm.get('document').updateValueAndValidity(); //this.uploadFileForm.get('document').setValue(file);

            console.log("Upload File Now Again => " + JSON.stringify(file.data));
          }
        }
      }, {
        key: "dismissModal",
        value: function dismissModal() {
          this.router.navigate(['/list-documents', this.localUser.id]);
        }
      }, {
        key: "presentAlert",
        value: function presentAlert(message) {
          return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0,
          /*#__PURE__*/
          regeneratorRuntime.mark(function _callee2() {
            var alert;
            return regeneratorRuntime.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _context2.next = 2;
                    return this.alertController.create({
                      header: 'Alert',
                      subHeader: '',
                      message: message,
                      buttons: ['OK']
                    });

                  case 2:
                    alert = _context2.sent;
                    _context2.next = 5;
                    return alert.present();

                  case 5:
                    return _context2.abrupt("return", alert);

                  case 6:
                  case "end":
                    return _context2.stop();
                }
              }
            }, _callee2, this);
          }));
        }
      }, {
        key: "presentLoadingWithOptions",
        value: function presentLoadingWithOptions() {
          return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0,
          /*#__PURE__*/
          regeneratorRuntime.mark(function _callee3() {
            var loading;
            return regeneratorRuntime.wrap(function _callee3$(_context3) {
              while (1) {
                switch (_context3.prev = _context3.next) {
                  case 0:
                    _context3.next = 2;
                    return this.loadingController.create({
                      animated: true,
                      spinner: "bubbles",
                      message: 'Uploading ' + this.docType + '..',
                      translucent: true,
                      cssClass: 'custom-class custom-loading'
                    });

                  case 2:
                    loading = _context3.sent;
                    _context3.next = 5;
                    return loading.present();

                  case 5:
                    return _context3.abrupt("return", _context3.sent);

                  case 6:
                  case "end":
                    return _context3.stop();
                }
              }
            }, _callee3, this);
          }));
        }
      }]);

      return UploadDocumentPage;
    }();

    UploadDocumentPage.ctorParameters = function () {
      return [{
        type: _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"]
      }, {
        type: _services_master_service__WEBPACK_IMPORTED_MODULE_4__["MasterService"]
      }, {
        type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ModalController"]
      }, {
        type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"]
      }, {
        type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"]
      }, {
        type: _user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"]
      }, {
        type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"]
      }, {
        type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]
      }];
    };

    UploadDocumentPage = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-upload-document',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./upload-document.page.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/user/documents/upload-document/upload-document.page.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./upload-document.page.scss */
      "./src/app/user/documents/upload-document/upload-document.page.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"], _services_master_service__WEBPACK_IMPORTED_MODULE_4__["MasterService"], _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ModalController"], _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"], _user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"], _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])], UploadDocumentPage);
    /***/
  }
}]);
//# sourceMappingURL=default~documents-upload-document-upload-document-module~user-documents-upload-document-upload-docum~05c5089d-es5.js.map