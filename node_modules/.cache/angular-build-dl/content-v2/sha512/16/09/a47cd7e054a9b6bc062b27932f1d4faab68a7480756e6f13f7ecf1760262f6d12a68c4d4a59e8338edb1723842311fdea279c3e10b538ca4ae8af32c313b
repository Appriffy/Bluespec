{"version":3,"sources":["src/app/companies/details/company-details.page.html","src/app/companies/details/company-details.module.ts","src/app/companies/details/company-details.page.ts","src/app/companies/details/company-details.resolver.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,q2IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWf,QAAM,MAAM,GAAW,CACrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,SAAS,EAAE,kDAAA,CAAA,oBAAA,CAFb;AAGE,MAAA,OAAO,EAAE;AACP,QAAA,IAAI,EAAE,sDAAA,CAAA,wBAAA;AADC;AAHX,KADqB,CAAvB;;AAyBA,QAAa,wBAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,wBAAwB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAfpC,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CACP,4CAAA,CAAA,cAAA,CADO,EAEP,2CAAA,CAAA,aAAA,CAFO,EAGP,2CAAA,CAAA,qBAAA,CAHO,EAIP,2CAAA,CAAA,aAAA,CAJO,EAKP,4CAAA,CAAA,cAAA,CAAA,CAAa,QAAb,CAAsB,MAAtB,CALO,EAMP,0DAAA,CAAA,kBAAA,CANO,CADD;AASR,MAAA,YAAY,EAAE,CAAC,kDAAA,CAAA,oBAAA,CAAD,CATN;AAUR,MAAA,SAAS,EAAE,CACT,+CAAA,CAAA,gBAAA,CADS,EAET,sDAAA,CAAA,wBAAA,CAFS;AAVH,KAAT,CAeoC,CAAA,EAAxB,wBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBb,QAAa,kBAAb;AAAA;AAAA;AAUE,kCACS,eADT,EAES,eAFT,EAGU,WAHV,EAIS,MAJT,EAKU,KALV,EAK+B;AAAA;;AAJtB,aAAA,eAAA,GAAA,eAAA;AACA,aAAA,eAAA,GAAA,eAAA;AACC,aAAA,WAAA,GAAA,WAAA;AACD,aAAA,MAAA,GAAA,MAAA;AACC,aAAA,KAAA,GAAA,KAAA;AAXV,aAAA,QAAA,GAAqB,KAArB;AAYK,OAhBP,CAKC;;;AALD;AAAA;AAAA,mCAkBU;AAAA;;AACJ,eAAK,KAAL,CAAW,QAAX,CAAoB,SAApB,CAA8B,UAAA,MAAM,EAAG;AACrC,YAAA,KAAI,CAAC,UAAL,GAAkB,MAAM,CAAC,GAAP,CAAW,IAAX,CAAlB;;AACA,gBAAG,KAAI,CAAC,UAAL,IAAmB,CAAtB,EAAwB;AACtB,cAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,CAAC,gBAAD,CAArB;AACD;AAAC,WAJJ;AAME,cAAI,QAAQ,GAAG;AACb,YAAA,UAAU,EAAE,KAAK;AADJ,WAAf;AAIA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,IAAhC,CAAqC,UAAA,aAAa,EAAE;AAClD,YAAA,KAAI,CAAC,SAAL,GAAiB,aAAjB;;AACA,YAAA,KAAI,CAAC,kBAAL,CAAwB,KAAI,CAAC,SAAL,CAAe,OAAvC,EAAgD,QAAhD;AACD,WAHD;AAIL;AAjCH;AAAA;AAAA,2CAoCqB,MApCrB,EAoCiC,QApCjC,EAoC8C;AAAA;;AAC1C,eAAK,eAAL,CAAqB,oBAArB,CAA0C,MAA1C,EAAkD,QAAlD,EAA4D,SAA5D,CACE,UAAC,GAAD,EAAa;AACb,gBAAG,GAAH,EAAO;AACP,cAAA,MAAI,CAAC,IAAL,GAAY,GAAZ,CADO,CAEP;AACA;;AACA,kBAAG,MAAI,CAAC,IAAL,CAAU,OAAV,IAAqB,MAAI,CAAC,SAAL,CAAe,EAAvC,EAA0C;AACxC;AACA,gBAAA,MAAI,CAAC,QAAL,GAAgB,IAAhB;AACD;;AACD,kBAAG,kDAAA,CAAA,eAAA,CAAA,CAAc,QAAjB,EAA0B;AACxB,gBAAA,OAAO,CAAC,GAAR,CAAY,6BAA2B,IAAI,CAAC,SAAL,CAAe,MAAI,CAAC,IAApB,CAAvC;AACD;;AACD,kBAAI,GAAG,CAAC,KAAR,EAAe;AACb,gBAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,CAAC,gBAAD,CAArB;AACD;AACA;AACA,WAjBH,EAkBE,UAAC,KAAD,EAAe;AACf,YAAA,OAAO,CAAC,GAAR,CAAY,sCAAZ;AACC,WApBH;AAqBD;AA1DH;AAAA;AAAA,8CA4D2B;;;;;;;;;;AACT,2BAAM,KAAK,eAAL,CAAqB,MAArB,CAA4B;AAC9C,sBAAA,SAAS,EAAE,yDAAA,CAAA,oBAAA,CADmC;AAE9C,sBAAA,cAAc,EAAE;AACd,gCAAQ,KAAK;AADC;AAF8B,qBAA5B,CAAN;;;AAAR,oBAAA,K;;AAMN,2BAAM,KAAK,CAAC,OAAN,EAAN;;;;;;;;;AACD;AApEH;AAAA;AAAA,4BAM4C;AACxC,iBAAS,KAAK,IAAL,IAAa,KAAK,IAAL,CAAU,OAAzB,GAAqC,IAArC,GAA4C,KAAnD;AACD;AARH;;AAAA;AAAA,OAAA;;;;cAW4B,+CAAA,CAAA,gBAAA;;cACA,2CAAA,CAAA,iBAAA;;cACH,mDAAA,CAAA,aAAA;;cACN,4CAAA,CAAA,QAAA;;cACA,4CAAA,CAAA,gBAAA;;;;AATc,IAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAA9B,MAAA,CAAA,0CAAA,CAAA,aAAA,CAAA,CAAA,CAAY,gBAAZ,CAA8B,E,uEAAA,E,yEAAA,CAAA,E,4BAAA,E,SAAA,EAE9B,IAF8B;AANpB,IAAA,kBAAkB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAR9B,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACT,MAAA,QAAQ,EAAE,qBADD;AAET,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,mGAAA,CAAA,EAAA,OAFS;;;;;;AAAA,KAAV,CAQ8B,E,uEAWH,+CAAA,CAAA,gBAAA,C,EACA,2CAAA,CAAA,iBAAA,C,EACH,mDAAA,CAAA,aAAA,C,EACN,4CAAA,CAAA,QAAA,C,EACA,4CAAA,CAAA,gBAAA,C,EAfY,CAAA,EAAlB,kBAAkB,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRb,QAAa,sBAAb;AAAA;AAAA;AAEE,sCAAoB,eAApB,EAA6D,WAA7D,EAAqF;AAAA;;AAAjE,aAAA,eAAA,GAAA,eAAA;AAAyC,aAAA,WAAA,GAAA,WAAA;AAE5D,OAJH,CAME;;;AANF;AAAA;AAAA,gCAOU,KAPV,EAOuC;AACnC,cAAM,MAAM,GAAG,KAAK,CAAC,QAAN,CAAe,GAAf,CAAmB,YAAnB,CAAf;AACA,cAAI,QAAQ,GAAG;AACb,YAAA,UAAU,EAAE;AADC,WAAf;AAGA,cAAM,sBAAsB,GAAmC,KAAK,eAAL,CAC9D,oBAD8D,CACzC,MADyC,EACjC,QADiC,CAA/D;AAGA,cAAM,qBAAqB,GAAkC,KAAK,eAAL,CAC5D,eAD4D,CAC5C,sBAD4C,CAA7D;AAIA,iBAAO;AAAC,YAAA,IAAI,EAAE;AAAP,WAAP;AACD;AApBH;;AAAA;AAAA,OAAA;;;;cAEuC,+CAAA,CAAA,gBAAA;;cAAqC,mDAAA,CAAA,aAAA;;;;AAF/D,IAAA,sBAAsB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CADlC,MAAA,CAAA,0CAAA,CAAA,YAAA,CAAA,CAAA,EACkC,E,uEAEI,+CAAA,CAAA,gBAAA,C,EAAqC,mDAAA,CAAA,aAAA,C,EAFzC,CAAA,EAAtB,sBAAsB,CAAtB","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"companies/listing\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Company Profile</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"openItemUpdateModal()\\\" *ngIf=\\\"localUser?.role_id == 1 || selfView\\\">\\n        Edit\\n      </ion-button>\\n      <ion-button fill=\\\"clear\\\" color=\\\"light\\\" class=\\\"filters-btn\\\" (click)=\\\"favouriteCompany()\\\" *ngIf=\\\"localUser?.role_id !== 1 || !selfView\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"heart\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"user-content\\\">\\n  <!------ Top Header Main ---->\\n  <div class=\\\"recipes-wrapper\\\">\\n    <div class=\\\"recipes-list\\\">\\n      <div class=\\\"recipe-item\\\">\\n\\n        <!----- SECTION 1: BASIC ITEM DETAILS ----->\\n        <app-image-shell class=\\\"recipe-cover-image\\\" [mode]=\\\"'cover'\\\" [src]=\\\"'./assets/images/bg.jpg'\\\">\\n          <app-aspect-ratio [ratio]=\\\"{w:12, h:2}\\\">\\n          </app-aspect-ratio>\\n        </app-image-shell>\\n\\n        <div class=\\\"chef-picture-wrapper\\\">\\n          <app-aspect-ratio [ratio]=\\\"{w: 1, h: 1}\\\">\\n            <app-image-shell style=\\\"background-color: white;border-radius: 10px;padding:5px;\\\" class=\\\"chef-picture-image\\\" [src]=\\\"user?.logo\\\" [alt]=\\\"'Company Image'\\\"></app-image-shell>\\n          </app-aspect-ratio>\\n        </div>\\n     \\n        <div class=\\\"recipe-call-to-action\\\">\\n         \\n          <h3 class=\\\"recipe-name\\\" style=\\\"margin-top:2px;margin-bottom:2px;\\\">\\n            <app-text-shell [data]=\\\"user?.title\\\"></app-text-shell>\\n          </h3>\\n\\n          <h5 class=\\\"user-author\\\" *ngIf=\\\"user?.tagline\\\" style=\\\"font-size:13px;margin-top:2px;margin-bottom:5px;\\\">\\n            <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.tagline\\\"></app-text-shell>\\n          </h5>\\n\\n         \\n          <!----- SECTION 3: LIST JOB SKILLS ----->\\n  <ion-row class=\\\"details-tags\\\" style=\\\"margin-top:5px;\\\" *ngIf=\\\"user?.jobAreas.length > 0\\\">\\n    <ion-col class=\\\"tag-wrapper\\\" *ngFor=\\\"let tag of user?.jobAreas\\\">\\n      <span class=\\\"item-tag\\\">\\n        <app-text-shell [data]=\\\"tag.title\\\"></app-text-shell>\\n      </span>\\n    </ion-col>\\n  </ion-row>\\n<!----- SECTION 3: LIST JOB SKILLS ----->\\n    \\n\\n<hr class=\\\"details-divider\\\">\\n<h5 class=\\\"user-name\\\" style=\\\"font-size:15px;line-height:17px;margin-top: 5px;border-bottom: 1 px solid #777;\\\">\\n<app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.description\\\"></app-text-shell>\\n</h5>\\n\\n          <a class=\\\"user-name\\\" *ngIf=\\\"user?.website\\\" style=\\\"color:blue;font-size:14px;font-weight: bold;text-decoration: solid;\\\"\\n          [href]=\\\"'http://'+user?.website\\\" target=\\\"_blank\\\">\\n            <p> <app-text-shell animation=\\\"bouncing\\\" [data]=\\\"user?.website\\\"></app-text-shell></p>\\n          </a>\\n             \\n        </div>\\n<!----- SECTION 1: BASIC ITEM DETAILS ----->\\n\\n  <ion-row style=\\\"justify-content: center;align-content: center;text-align: center;\\\">\\n    <ion-col size=\\\"12\\\" style=\\\"justify-content: center;justify-content: center;\\\">\\n      <a *ngIf=\\\"user?.linkedin\\\" style=\\\"text-align: center;text-decoration: solid;\\\" class=\\\"go-home-btn\\\" [href]=\\\"'https://'+user?.linkedin\\\" target=\\\"_blank\\\"> \\n        <ion-button fill=\\\"solid\\\" color=\\\"primary\\\">\\n          <ion-icon src=\\\"./assets/sample-icons/side-menu/linkedin.svg\\\"></ion-icon> &nbsp;&nbsp;LinkedIn\\n        </ion-button>\\n      </a>\\n      \\n      <a *ngIf=\\\"user?.fb_link\\\" style=\\\"text-align: center;text-decoration: solid;justify-content: center;\\\" class=\\\"go-home-btn\\\" [href]=\\\"'https://'+user?.fb_link\\\" target=\\\"_blank\\\"> \\n        <ion-button  fill=\\\"solid\\\" color=\\\"facebook\\\">\\n          <ion-icon src=\\\"./assets/sample-icons/side-menu/facebook.svg\\\"></ion-icon> &nbsp;&nbsp;Facebook\\n        </ion-button>\\n      </a>\\n      \\n      <a *ngIf=\\\"user?.twitter_link\\\" style=\\\"text-align: center;text-decoration: solid;justify-content: center;\\\" class=\\\"go-home-btn\\\" [href]=\\\"'https://'+user?.twitter_link\\\" target=\\\"_blank\\\"> \\n        <ion-button fill=\\\"solid\\\" color=\\\"twitter\\\">\\n          <ion-icon src=\\\"./assets/sample-icons/side-menu/twitter.svg\\\"></ion-icon> &nbsp;&nbsp;Twitter\\n        </ion-button>\\n      </a>\\n    </ion-col>\\n    </ion-row>\\n\\n\\n      </div>\\n    </div>\\n  </div>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\nimport { CompanyDetailsPage } from './company-details.page';\nimport { CompanyDetailsResolver } from './company-details.resolver';\nimport { CompanyService } from '../companies.service';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CompanyDetailsPage,\n    resolve: {\n      data: CompanyDetailsResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [CompanyDetailsPage],\n  providers: [\n    CompanyService,\n    CompanyDetailsResolver\n  ]\n})\nexport class CompanyDetailsPageModule {}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CompanyDetailModel } from '../../dbmodels/company-model';\nimport { CompanyService } from '../companies.service';\nimport { UpdateCompanyModal } from '../update/update-company.modal';\nimport { LocalUser } from '../../dbmodels/local-user';\nimport { AuthService } from '../../services/auth.service';\nimport { AuthConstants } from '../../config/AuthConstants';\n\n@Component({\n  selector: 'app-company-details',\n  templateUrl: './company-details.page.html',\n  styleUrls: [\n    '../../bluspecstyles/details.page.scss',\n    '../../bluspecstyles/details.shell.scss'\n  ],\n})\nexport class CompanyDetailsPage implements OnInit {\n  user: CompanyDetailModel;\n  company_id:any;\n  localUser: LocalUser;\n  selfView : boolean = false;\n // relatedUsers: Array<FirebaseListingItemModel> & ShellModel;\n  @HostBinding('class.is-shell') get isShell() {\n    return ((this.user && this.user.isShell)) ? true : false;\n  }\n\n  constructor(\n    public firebaseService: CompanyService,\n    public modalController: ModalController,\n    private authService: AuthService,\n    public router: Router,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n      this.route.paramMap.subscribe(params => {\n        this.company_id = params.get(\"id\");\n        if(this.company_id <= 0){\n          this.router.navigate(['page-not-found']);\n        }});\n\n        var postData = {\n          company_id: this.company_id\n        };\n\n        this.authService.getAuthCache().then(promisedValue=>{\n          this.localUser = promisedValue;\n          this.fetchCompanyDetail(this.localUser.api_key, postData);\n        });\n  }\n\n\n  fetchCompanyDetail(apiKey:any, postData: any){\n    this.firebaseService.getDetailsDataSource(apiKey, postData).subscribe(\n      (res: any) => {\n      if(res){\n      this.user = res;\n      //alert(this.user.user_id+\" and \"+this.localUser.id);\n      //this.user !== undefined && \n      if(this.user.user_id == this.localUser.id){\n        //alert(JSON.stringify(this.user));\n        this.selfView = true;\n      }\n      if(AuthConstants.DEV_MODE){\n        console.log(\"Company Detail Profile: \"+JSON.stringify(this.user)); \n      }\n      if (res.error) {\n        this.router.navigate(['page-not-found']);\n      }\n      }\n      },\n      (error: any) => {\n      console.log('Looks like there is a Network Issue.');\n      });\n  }\n\n  async openItemUpdateModal() {\n    const modal = await this.modalController.create({\n      component: UpdateCompanyModal,\n      componentProps: {\n        'user': this.user\n      }\n    });\n    await modal.present();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { CompanyService } from '../companies.service';\nimport { CompanyDetailModel } from '../../dbmodels/company-model';\nimport { AuthService } from '../../services/auth.service';\n\n@Injectable()\nexport class CompanyDetailsResolver implements Resolve<any> {\n   \n  constructor(private firebaseService: CompanyService, private authService: AuthService) {\n\n  }\n  \n  //Error in Api key\n  resolve(route: ActivatedRouteSnapshot) {\n    const userId = route.paramMap.get('company_id');\n    var postData = {\n      company_id: userId\n      };\n    const combinedUserDataSource: Observable<CompanyDetailModel> = this.firebaseService\n    .getDetailsDataSource(userId, postData);\n\n    const combinedUserDataStore: DataStore<CompanyDetailModel> = this.firebaseService\n    .getDetailsStore(combinedUserDataSource);\n\n\n    return {user: combinedUserDataStore};\n  }\n}\n"],"sourceRoot":"webpack:///","file":"details-company-details-module-es5.js"}