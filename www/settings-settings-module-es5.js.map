{"version":3,"sources":["src/app/settings/settings.page.html","src/app/dbmodels/settings-model.ts","src/app/services/loading-service.service.ts","src/app/settings/settings.module.ts","src/app/settings/settings.page.scss","src/app/settings/settings.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<form class=\\\"create-user-form ion-page\\\" [formGroup]=\\\"switchersForm\\\" (ngSubmit)=\\\"saveSettings()\\\">\\n<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Settings</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"filters-content\\\">\\n  <ion-row class=\\\"expiration-countdown\\\">\\n    <span class=\\\"expiration-lead\\\">For Development Purpose Only</span>\\n  </ion-row>\\n\\n  <ion-item-group class=\\\"filters-group\\\">\\n      <ion-list class=\\\"toggle-list\\\" lines=\\\"full\\\">\\n\\n        <ion-item-divider>\\n          <ion-label>Debugging Mode Settings</ion-label>\\n        </ion-item-divider>\\n        <ion-item class=\\\"toggle-item\\\">\\n          <ion-label class=\\\"toggle-label\\\">Debug Mode</ion-label>\\n          <ion-toggle color=\\\"primary\\\" formControlName=\\\"debugMode\\\"></ion-toggle>\\n        </ion-item>\\n        <ion-item class=\\\"toggle-item\\\">\\n          <ion-label class=\\\"toggle-label\\\">Development Mode</ion-label>\\n          <ion-toggle color=\\\"primary\\\" formControlName=\\\"devMode\\\"></ion-toggle>\\n        </ion-item>\\n\\n        <ion-item-divider>\\n          <ion-label>Advanced Settings</ion-label>\\n        </ion-item-divider>\\n\\n        <ion-item class=\\\"toggle-item\\\">\\n          <ion-label class=\\\"toggle-label\\\">Enable Push Notifications</ion-label>\\n          <ion-toggle color=\\\"primary\\\" formControlName=\\\"enablePush\\\"></ion-toggle>\\n        </ion-item>\\n\\n        <ion-item class=\\\"toggle-item\\\">\\n          <ion-label class=\\\"toggle-label\\\">Enable Lazy Loading</ion-label>\\n          <ion-toggle color=\\\"primary\\\" formControlName=\\\"enableLoading\\\"></ion-toggle>\\n        </ion-item>\\n\\n        <ion-item class=\\\"toggle-item\\\">\\n          <ion-label class=\\\"toggle-label\\\">Strict Mode</ion-label>\\n          <ion-toggle color=\\\"primary\\\" formControlName=\\\"strictMode\\\"></ion-toggle>\\n        </ion-item>\\n\\n\\n        <ion-item-divider>\\n          <ion-label>Sync Duration Period</ion-label>\\n        </ion-item-divider>\\n        <ion-radio-group formControlName=\\\"syncTimer\\\">\\n          <ion-row class=\\\"radio-tags\\\">\\n            <ion-item class=\\\"radio-tag\\\" lines=\\\"none\\\">\\n              <ion-label class=\\\"tag-label\\\">Hourly</ion-label>\\n              <ion-radio value=\\\"1\\\"></ion-radio>\\n            </ion-item>\\n            <ion-item class=\\\"radio-tag\\\" lines=\\\"none\\\">\\n              <ion-label class=\\\"tag-label\\\">\\n                <span>Daily</span>\\n              </ion-label>\\n              <ion-radio value=\\\"24\\\"></ion-radio>\\n            </ion-item>\\n           \\n            <ion-item class=\\\"radio-tag\\\" lines=\\\"none\\\">\\n              <ion-label class=\\\"tag-label\\\">\\n                <span>Never</span>\\n              </ion-label>\\n              <ion-radio value=\\\"0\\\"></ion-radio>\\n            </ion-item>\\n          </ion-row>\\n        </ion-radio-group>\\n\\n      </ion-list>\\n    \\n  </ion-item-group>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-row class=\\\"form-actions-wrapper\\\">\\n    <ion-col>\\n      <ion-button class=\\\"submit-btn\\\" expand=\\\"block\\\" color=\\\"primary\\\" type=\\\"submit\\\" fill=\\\"solid\\\" [disabled]=\\\"!switchersForm.valid\\\">SAVE SETTINGS</ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\\n</form>\\n\"","export class SettingsModel {\r\n    debugMode: boolean;\r\n    devMode: boolean;\r\n    syncTimer: number;\r\n    enablePush:boolean;\r\n    enableLoading:boolean;\r\n    strictMode:boolean;\r\n\r\n      \r\n    constructor() {\r\n        this.debugMode = false;\r\n        this.devMode = false;\r\n        this.syncTimer = 60;\r\n        this.enablePush = false;\r\n        this.enableLoading = false;\r\n        this.strictMode = false;\r\n      }\r\n}","import { Injectable } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingServiceService {\n//https://stackoverflow.com/questions/52574448/ionic-4-loading-controller-dismiss-is-called-before-present-which-will-ke\n  isLoading = false;\n\n  constructor(public loadingController: LoadingController) { }\n\n  async present(message:string) {\n    this.isLoading = true;\n    return await this.loadingController.create({\n       animated:true,\n       spinner: \"bubbles\",\n       message: message,\n       translucent: true,\n       cssClass: 'custom-class custom-loading'\n    }).then(a => {\n      a.present().then(() => {\n        //console.log('presented');\n        if (!this.isLoading) {\n          a.dismiss().then(() => console.log('Abort Loading'));\n        }\n      });\n    });\n  }\n\n  async dismiss() {\n    this.isLoading = false;\n    return await this.loadingController.dismiss();\n    //.then(() => console.log('Dismissed'))\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPage } from './settings.page';\nimport { ComponentsModule } from '../components/components.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \":host {\\n  --page-margin: var(--app-fair-margin);\\n  --page-background: var(--app-background-shade);\\n}\\n\\n.expiration-countdown {\\n  color: var(--ion-color-lightest);\\n  background-color: var(--ion-color-danger);\\n  padding: calc(var(--page-margin) / 2) var(--page-margin);\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  z-index: 8;\\n  text-align: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.expiration-countdown .expiration-lead {\\n  padding: 0px calc(var(--page-margin) / 2);\\n  font-weight: 500;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2V0dGluZ3MvRDpcXFdFQiBNQVJLRVRQTEFDRVxcQU5HVUxBUlxcQmx1c3BlYy9zcmNcXGFwcFxcc2V0dGluZ3NcXHNldHRpbmdzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUNBQUE7RUFDQSw4Q0FBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7RUFDQSx5Q0FBQTtFQUNBLHdEQUFBO0VBRUEsd0JBQUE7RUFBQSxnQkFBQTtFQUNBLE1BQUE7RUFDQSxVQUFBO0VBRUEsa0JBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ0RKOztBREdJO0VBQ0UseUNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUNETiIsImZpbGUiOiJzcmMvYXBwL3NldHRpbmdzL3NldHRpbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1mYWlyLW1hcmdpbik7XHJcbiAgICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQtc2hhZGUpO1xyXG4gIH1cclxuXHJcbi5leHBpcmF0aW9uLWNvdW50ZG93biB7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0ZXN0KTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gICAgcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSB2YXIoLS1wYWdlLW1hcmdpbik7XHJcbiAgXHJcbiAgICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gICAgdG9wOiAwO1xyXG4gICAgei1pbmRleDogODtcclxuICBcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBcclxuICAgIC5leHBpcmF0aW9uLWxlYWQge1xyXG4gICAgICBwYWRkaW5nOiAwcHggY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcclxuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgfVxyXG4gIH0iLCI6aG9zdCB7XG4gIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1mYWlyLW1hcmdpbik7XG4gIC0tcGFnZS1iYWNrZ3JvdW5kOiB2YXIoLS1hcHAtYmFja2dyb3VuZC1zaGFkZSk7XG59XG5cbi5leHBpcmF0aW9uLWNvdW50ZG93biB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRlc3QpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgcGFkZGluZzogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgei1pbmRleDogODtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5leHBpcmF0aW9uLWNvdW50ZG93biAuZXhwaXJhdGlvbi1sZWFkIHtcbiAgcGFkZGluZzogMHB4IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { SettingsModel } from '../dbmodels/settings-model';\nimport { AuthService } from '../services/auth.service';\nimport { StorageService } from '../services/storage.service';\nimport { LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { AuthConstants } from '../config/AuthConstants';\nimport { LoadingServiceService } from '../services/loading-service.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['../bluspecstyles/filter.page.scss',\n  './settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n\n  switchersForm: FormGroup;\n  settingsModel: SettingsModel;\n\n  constructor(private authService:AuthService,\n    private storageService: StorageService,\n    private loadingController: LoadingServiceService,\n    public router:Router) { }\n\n  ngOnInit() {\n    \n    this.switchersForm = new FormGroup({\n      debugMode: new FormControl(true),\n      devMode: new FormControl(false),\n      enablePush: new FormControl(false),\n      enableLoading: new FormControl(false),\n      strictMode: new FormControl(false),\n      syncTimer: new FormControl(0)\n    });\n\n    this.authService.getAuthCache().then(authData=>{\n      if(authData){\n      if(authData.role_id !== 1){\n        this.router.navigateByUrl(\"/welcome\");\n      }\n      }else{\n        this.authService.logout();\n      }\n   });\n\n    this.storageService.get(AuthConstants.APP_SETTINGS).then(appSettings=>{\n      if(appSettings){\n       console.log(\"Settings exist!\");\n       console.log(\"Settings => \"+JSON.stringify(appSettings));\n       this.settingsModel = appSettings;\n      }else{\n       console.log(\"No settings exist!\");\n       this.settingsModel = new SettingsModel();\n      }\n      this.updateSettingsForm();\n   });\n\n  }\n\n  updateSettingsForm(){\n    this.switchersForm.controls.debugMode.patchValue(this.settingsModel.debugMode);\n    this.switchersForm.controls.devMode.patchValue(this.settingsModel.devMode);\n    this.switchersForm.controls.enablePush.patchValue(this.settingsModel.enablePush);\n    this.switchersForm.controls.enableLoading.patchValue(this.settingsModel.enableLoading);\n    this.switchersForm.controls.strictMode.patchValue(this.settingsModel.strictMode);\n    this.switchersForm.controls.syncTimer.patchValue(this.settingsModel.syncTimer);\n  }\n\n  saveSettings(){\n    this.loadingController.present('Saving Settings');\n    //console.log('########## Final Result #####: '+this.switchersForm.value);\n    this.settingsModel.debugMode = this.switchersForm.value.debugMode;\n    this.settingsModel.devMode = this.switchersForm.value.devMode;\n    this.settingsModel.enableLoading = this.switchersForm.value.enableLoading;\n    this.settingsModel.enablePush = this.switchersForm.value.enablePush;\n    this.settingsModel.strictMode = this.switchersForm.value.strictMode;\n    this.settingsModel.syncTimer = this.switchersForm.value.syncTimer;\n    this.storageService.store(AuthConstants.APP_SETTINGS, this.settingsModel);\n    this.loadingController.dismiss().then(()=>{\n      this.router.navigateByUrl(\"/dashboard/summary\");\n    });\n    //this.router.navigateByUrl(\"/dashboard/summary\");\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"settings-settings-module-es5.js"}